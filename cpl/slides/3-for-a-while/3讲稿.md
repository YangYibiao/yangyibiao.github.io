第四讲

while 

break

语句

1. stars

```C
#include <stdio.h>

int main()
{
    int lines = 0;
    scanf("%d", &lines);

    for (int i = 0; i < lines; i++) {
        for (int j = 0; j < lines - 1 - i; j++) {
            printf(" ");
        }
        for (int j = 0; j < 2 * i + 1; j++) {
            printf("*");
        }
        if (i != lines - 1) {
            printf("\n");
        }
    }
    return 0;
}
```

讲解分析思路

2. 素数

```C
#include <stdio.h>

int main() {
  int max;
  scanf("%d", &max);

  int count = 0;
  for (int i = 2; i < max; i++) {
    // decide if i is a prime
    int prime = 1;
    for (int j = 2; j * j <= i; j++) {
      if (i % j == 0) {
        prime = 0;
        break;
      }
    }
    if (prime == 1) {
//      printf("%d ", i);
      count++;
    }
  }
  printf("\btotal count: %d", count);
  return 0;
}
```

演示无break语句速度比较慢
加入break
加入j * j <= i

3. 二分查找

```C
#include <stdio.h>

#define LEN 10
int dictionary[LEN] = {1, 1, 3, 4, 5, 6, 7, 8, 9, 10};
int main() {
  int key = 0;
  scanf("%d", &key);

  int index = -1;
  int low = 0;
  int high = LEN - 1;
  while (low <= high) {
    int mid = (low + high) / 2;
    if (dictionary[mid] == key) {
      index = mid;
//      break;
      high = mid - 1;
    } else {
      if (dictionary[mid] < key) {
        low = mid + 1;
      } else {
        high = mid - 1;
      }
    }
  }

  if (index != -1) {
    printf("The index of %d is %d\n", index, key);
  } else {
    printf("Not found\n");
  }
  return 0;
}
```

4. digits

```C
int number = 0;
  scanf("%d", &number);

  int num_of_digits = 0;
  if (number == 0) {
    num_of_digits = 1;
  } else {
    while (number > 0) {
      number /= 10;
      num_of_digits++;
    }
  }
  printf("Number of digits is %d\n", num_of_digits);
```

5. digits do-while
```C
#include <stdio.h>

int main() {
  int number = 0;
  scanf("%d", &number);

  int num_of_digits = 0;
  if (number == 0) {
    num_of_digits = 1;
  } else {
    while (number > 0) {
      number /= 10;
      num_of_digits++;
    }
  }
  printf("Number of digits is %d\n", num_of_digits);
}
```

6. digits for
```C
#include <stdio.h>

int main() {
  int number = 0;
  scanf("%d", &number);

  number = number < 0 ? -number : number;
  int num_of_digits = 1;
  for (; number / 10 != 0; num_of_digits++) {
    number /= 10;
  }
  printf("Number of digits is %d\n", num_of_digits);
  return 0;
}
```

7. selection-sort

```C
#include <stdio.h>

#define LEN 1000

int numbers[LEN];
int main() {
  int len = -1;
  while (scanf("%d", &numbers[++len]) != EOF);

  printf("Before sorting: \n");
  for (int i = 0; i < len; i++) {
    printf("%d ", numbers[i]);
  }
  printf("\n");

  for (int i = 0; i < len - 1; i++) {
    int min_index = i;
    int min_value = numbers[i];
    for (int j = i + 1; j < len; j++) {
      if (numbers[j] < min_value) {
        min_index = j;
        min_value = numbers[j];
      }
    }

    int temp = numbers[i];
    numbers[i] = numbers[min_index];
    numbers[min_index] = temp;
  }

  printf("After sorting: \n");
  for (int i = 0; i < len; i++) {
    printf("%d ", numbers[i]);
  }
  return 0;
}
```