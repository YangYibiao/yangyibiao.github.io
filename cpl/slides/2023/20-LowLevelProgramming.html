<!DOCTYPE html><html><head>
      <title>20-LowLevelProgramming</title>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      
      <style>
      /*!
* reveal.js 4.5.0
* https://revealjs.com
* MIT licensed
*
* Copyright (C) 2011-2023 Hakim El Hattab, https://hakim.se
*/
.reveal .r-stretch,.reveal .stretch{max-width:none;max-height:none}.reveal pre.r-stretch code,.reveal pre.stretch code{height:100%;max-height:100%;box-sizing:border-box}.reveal .r-fit-text{display:inline-block;white-space:nowrap}.reveal .r-stack{display:grid}.reveal .r-stack>*{grid-area:1/1;margin:auto}.reveal .r-hstack,.reveal .r-vstack{display:flex}.reveal .r-hstack img,.reveal .r-hstack video,.reveal .r-vstack img,.reveal .r-vstack video{min-width:0;min-height:0;object-fit:contain}.reveal .r-vstack{flex-direction:column;align-items:center;justify-content:center}.reveal .r-hstack{flex-direction:row;align-items:center;justify-content:center}.reveal .items-stretch{align-items:stretch}.reveal .items-start{align-items:flex-start}.reveal .items-center{align-items:center}.reveal .items-end{align-items:flex-end}.reveal .justify-between{justify-content:space-between}.reveal .justify-around{justify-content:space-around}.reveal .justify-start{justify-content:flex-start}.reveal .justify-center{justify-content:center}.reveal .justify-end{justify-content:flex-end}html.reveal-full-page{width:100%;height:100%;height:100vh;height:calc(var(--vh,1vh) * 100);overflow:hidden}.reveal-viewport{height:100%;overflow:hidden;position:relative;line-height:1;margin:0;background-color:#fff;color:#000}.reveal-viewport:fullscreen{top:0!important;left:0!important;width:100%!important;height:100%!important;transform:none!important}.reveal .fragment{transition:all .2s ease}.reveal .fragment:not(.custom){opacity:0;visibility:hidden;will-change:opacity}.reveal .fragment.visible{opacity:1;visibility:inherit}.reveal .fragment.disabled{transition:none}.reveal .fragment.grow{opacity:1;visibility:inherit}.reveal .fragment.grow.visible{transform:scale(1.3)}.reveal .fragment.shrink{opacity:1;visibility:inherit}.reveal .fragment.shrink.visible{transform:scale(.7)}.reveal .fragment.zoom-in{transform:scale(.1)}.reveal .fragment.zoom-in.visible{transform:none}.reveal .fragment.fade-out{opacity:1;visibility:inherit}.reveal .fragment.fade-out.visible{opacity:0;visibility:hidden}.reveal .fragment.semi-fade-out{opacity:1;visibility:inherit}.reveal .fragment.semi-fade-out.visible{opacity:.5;visibility:inherit}.reveal .fragment.strike{opacity:1;visibility:inherit}.reveal .fragment.strike.visible{text-decoration:line-through}.reveal .fragment.fade-up{transform:translate(0,40px)}.reveal .fragment.fade-up.visible{transform:translate(0,0)}.reveal .fragment.fade-down{transform:translate(0,-40px)}.reveal .fragment.fade-down.visible{transform:translate(0,0)}.reveal .fragment.fade-right{transform:translate(-40px,0)}.reveal .fragment.fade-right.visible{transform:translate(0,0)}.reveal .fragment.fade-left{transform:translate(40px,0)}.reveal .fragment.fade-left.visible{transform:translate(0,0)}.reveal .fragment.current-visible,.reveal .fragment.fade-in-then-out{opacity:0;visibility:hidden}.reveal .fragment.current-visible.current-fragment,.reveal .fragment.fade-in-then-out.current-fragment{opacity:1;visibility:inherit}.reveal .fragment.fade-in-then-semi-out{opacity:0;visibility:hidden}.reveal .fragment.fade-in-then-semi-out.visible{opacity:.5;visibility:inherit}.reveal .fragment.fade-in-then-semi-out.current-fragment{opacity:1;visibility:inherit}.reveal .fragment.highlight-blue,.reveal .fragment.highlight-current-blue,.reveal .fragment.highlight-current-green,.reveal .fragment.highlight-current-red,.reveal .fragment.highlight-green,.reveal .fragment.highlight-red{opacity:1;visibility:inherit}.reveal .fragment.highlight-red.visible{color:#ff2c2d}.reveal .fragment.highlight-green.visible{color:#17ff2e}.reveal .fragment.highlight-blue.visible{color:#1b91ff}.reveal .fragment.highlight-current-red.current-fragment{color:#ff2c2d}.reveal .fragment.highlight-current-green.current-fragment{color:#17ff2e}.reveal .fragment.highlight-current-blue.current-fragment{color:#1b91ff}.reveal:after{content:"";font-style:italic}.reveal iframe{z-index:1}.reveal a{position:relative}@keyframes bounce-right{0%,10%,25%,40%,50%{transform:translateX(0)}20%{transform:translateX(10px)}30%{transform:translateX(-5px)}}@keyframes bounce-left{0%,10%,25%,40%,50%{transform:translateX(0)}20%{transform:translateX(-10px)}30%{transform:translateX(5px)}}@keyframes bounce-down{0%,10%,25%,40%,50%{transform:translateY(0)}20%{transform:translateY(10px)}30%{transform:translateY(-5px)}}.reveal .controls{display:none;position:absolute;top:auto;bottom:12px;right:12px;left:auto;z-index:11;color:#000;pointer-events:none;font-size:10px}.reveal .controls button{position:absolute;padding:0;background-color:transparent;border:0;outline:0;cursor:pointer;color:currentColor;transform:scale(.9999);transition:color .2s ease,opacity .2s ease,transform .2s ease;z-index:2;pointer-events:auto;font-size:inherit;visibility:hidden;opacity:0;-webkit-appearance:none;-webkit-tap-highlight-color:transparent}.reveal .controls .controls-arrow:after,.reveal .controls .controls-arrow:before{content:"";position:absolute;top:0;left:0;width:2.6em;height:.5em;border-radius:.25em;background-color:currentColor;transition:all .15s ease,background-color .8s ease;transform-origin:.2em 50%;will-change:transform}.reveal .controls .controls-arrow{position:relative;width:3.6em;height:3.6em}.reveal .controls .controls-arrow:before{transform:translateX(.5em) translateY(1.55em) rotate(45deg)}.reveal .controls .controls-arrow:after{transform:translateX(.5em) translateY(1.55em) rotate(-45deg)}.reveal .controls .controls-arrow:hover:before{transform:translateX(.5em) translateY(1.55em) rotate(40deg)}.reveal .controls .controls-arrow:hover:after{transform:translateX(.5em) translateY(1.55em) rotate(-40deg)}.reveal .controls .controls-arrow:active:before{transform:translateX(.5em) translateY(1.55em) rotate(36deg)}.reveal .controls .controls-arrow:active:after{transform:translateX(.5em) translateY(1.55em) rotate(-36deg)}.reveal .controls .navigate-left{right:6.4em;bottom:3.2em;transform:translateX(-10px)}.reveal .controls .navigate-left.highlight{animation:bounce-left 2s 50 both ease-out}.reveal .controls .navigate-right{right:0;bottom:3.2em;transform:translateX(10px)}.reveal .controls .navigate-right .controls-arrow{transform:rotate(180deg)}.reveal .controls .navigate-right.highlight{animation:bounce-right 2s 50 both ease-out}.reveal .controls .navigate-up{right:3.2em;bottom:6.4em;transform:translateY(-10px)}.reveal .controls .navigate-up .controls-arrow{transform:rotate(90deg)}.reveal .controls .navigate-down{right:3.2em;bottom:-1.4em;padding-bottom:1.4em;transform:translateY(10px)}.reveal .controls .navigate-down .controls-arrow{transform:rotate(-90deg)}.reveal .controls .navigate-down.highlight{animation:bounce-down 2s 50 both ease-out}.reveal .controls[data-controls-back-arrows=faded] .navigate-up.enabled{opacity:.3}.reveal .controls[data-controls-back-arrows=faded] .navigate-up.enabled:hover{opacity:1}.reveal .controls[data-controls-back-arrows=hidden] .navigate-up.enabled{opacity:0;visibility:hidden}.reveal .controls .enabled{visibility:visible;opacity:.9;cursor:pointer;transform:none}.reveal .controls .enabled.fragmented{opacity:.5}.reveal .controls .enabled.fragmented:hover,.reveal .controls .enabled:hover{opacity:1}.reveal:not(.rtl) .controls[data-controls-back-arrows=faded] .navigate-left.enabled{opacity:.3}.reveal:not(.rtl) .controls[data-controls-back-arrows=faded] .navigate-left.enabled:hover{opacity:1}.reveal:not(.rtl) .controls[data-controls-back-arrows=hidden] .navigate-left.enabled{opacity:0;visibility:hidden}.reveal.rtl .controls[data-controls-back-arrows=faded] .navigate-right.enabled{opacity:.3}.reveal.rtl .controls[data-controls-back-arrows=faded] .navigate-right.enabled:hover{opacity:1}.reveal.rtl .controls[data-controls-back-arrows=hidden] .navigate-right.enabled{opacity:0;visibility:hidden}.reveal[data-navigation-mode=linear].has-horizontal-slides .navigate-down,.reveal[data-navigation-mode=linear].has-horizontal-slides .navigate-up{display:none}.reveal:not(.has-vertical-slides) .controls .navigate-left,.reveal[data-navigation-mode=linear].has-horizontal-slides .navigate-left{bottom:1.4em;right:5.5em}.reveal:not(.has-vertical-slides) .controls .navigate-right,.reveal[data-navigation-mode=linear].has-horizontal-slides .navigate-right{bottom:1.4em;right:.5em}.reveal:not(.has-horizontal-slides) .controls .navigate-up{right:1.4em;bottom:5em}.reveal:not(.has-horizontal-slides) .controls .navigate-down{right:1.4em;bottom:.5em}.reveal.has-dark-background .controls{color:#fff}.reveal.has-light-background .controls{color:#000}.reveal.no-hover .controls .controls-arrow:active:before,.reveal.no-hover .controls .controls-arrow:hover:before{transform:translateX(.5em) translateY(1.55em) rotate(45deg)}.reveal.no-hover .controls .controls-arrow:active:after,.reveal.no-hover .controls .controls-arrow:hover:after{transform:translateX(.5em) translateY(1.55em) rotate(-45deg)}@media screen and (min-width:500px){.reveal .controls[data-controls-layout=edges]{top:0;right:0;bottom:0;left:0}.reveal .controls[data-controls-layout=edges] .navigate-down,.reveal .controls[data-controls-layout=edges] .navigate-left,.reveal .controls[data-controls-layout=edges] .navigate-right,.reveal .controls[data-controls-layout=edges] .navigate-up{bottom:auto;right:auto}.reveal .controls[data-controls-layout=edges] .navigate-left{top:50%;left:.8em;margin-top:-1.8em}.reveal .controls[data-controls-layout=edges] .navigate-right{top:50%;right:.8em;margin-top:-1.8em}.reveal .controls[data-controls-layout=edges] .navigate-up{top:.8em;left:50%;margin-left:-1.8em}.reveal .controls[data-controls-layout=edges] .navigate-down{bottom:-.3em;left:50%;margin-left:-1.8em}}.reveal .progress{position:absolute;display:none;height:3px;width:100%;bottom:0;left:0;z-index:10;background-color:rgba(0,0,0,.2);color:#fff}.reveal .progress:after{content:"";display:block;position:absolute;height:10px;width:100%;top:-10px}.reveal .progress span{display:block;height:100%;width:100%;background-color:currentColor;transition:transform .8s cubic-bezier(.26,.86,.44,.985);transform-origin:0 0;transform:scaleX(0)}.reveal .slide-number{position:absolute;display:block;right:8px;bottom:8px;z-index:31;font-family:Helvetica,sans-serif;font-size:12px;line-height:1;color:#fff;background-color:rgba(0,0,0,.4);padding:5px}.reveal .slide-number a{color:currentColor}.reveal .slide-number-delimiter{margin:0 3px}.reveal{position:relative;width:100%;height:100%;overflow:hidden;touch-action:pinch-zoom}.reveal.embedded{touch-action:pan-y}.reveal .slides{position:absolute;width:100%;height:100%;top:0;right:0;bottom:0;left:0;margin:auto;pointer-events:none;overflow:visible;z-index:1;text-align:center;perspective:600px;perspective-origin:50% 40%}.reveal .slides>section{perspective:600px}.reveal .slides>section,.reveal .slides>section>section{display:none;position:absolute;width:100%;pointer-events:auto;z-index:10;transform-style:flat;transition:transform-origin .8s cubic-bezier(.26,.86,.44,.985),transform .8s cubic-bezier(.26,.86,.44,.985),visibility .8s cubic-bezier(.26,.86,.44,.985),opacity .8s cubic-bezier(.26,.86,.44,.985)}.reveal[data-transition-speed=fast] .slides section{transition-duration:.4s}.reveal[data-transition-speed=slow] .slides section{transition-duration:1.2s}.reveal .slides section[data-transition-speed=fast]{transition-duration:.4s}.reveal .slides section[data-transition-speed=slow]{transition-duration:1.2s}.reveal .slides>section.stack{padding-top:0;padding-bottom:0;pointer-events:none;height:100%}.reveal .slides>section.present,.reveal .slides>section>section.present{display:block;z-index:11;opacity:1}.reveal .slides>section:empty,.reveal .slides>section>section:empty,.reveal .slides>section>section[data-background-interactive],.reveal .slides>section[data-background-interactive]{pointer-events:none}.reveal.center,.reveal.center .slides,.reveal.center .slides section{min-height:0!important}.reveal .slides>section:not(.present),.reveal .slides>section>section:not(.present){pointer-events:none}.reveal.overview .slides>section,.reveal.overview .slides>section>section{pointer-events:auto}.reveal .slides>section.future,.reveal .slides>section.future>section,.reveal .slides>section.past,.reveal .slides>section.past>section,.reveal .slides>section>section.future,.reveal .slides>section>section.past{opacity:0}.reveal .slides>section[data-transition=slide].past,.reveal .slides>section[data-transition~=slide-out].past,.reveal.slide .slides>section:not([data-transition]).past{transform:translate(-150%,0)}.reveal .slides>section[data-transition=slide].future,.reveal .slides>section[data-transition~=slide-in].future,.reveal.slide .slides>section:not([data-transition]).future{transform:translate(150%,0)}.reveal .slides>section>section[data-transition=slide].past,.reveal .slides>section>section[data-transition~=slide-out].past,.reveal.slide .slides>section>section:not([data-transition]).past{transform:translate(0,-150%)}.reveal .slides>section>section[data-transition=slide].future,.reveal .slides>section>section[data-transition~=slide-in].future,.reveal.slide .slides>section>section:not([data-transition]).future{transform:translate(0,150%)}.reveal .slides>section[data-transition=linear].past,.reveal .slides>section[data-transition~=linear-out].past,.reveal.linear .slides>section:not([data-transition]).past{transform:translate(-150%,0)}.reveal .slides>section[data-transition=linear].future,.reveal .slides>section[data-transition~=linear-in].future,.reveal.linear .slides>section:not([data-transition]).future{transform:translate(150%,0)}.reveal .slides>section>section[data-transition=linear].past,.reveal .slides>section>section[data-transition~=linear-out].past,.reveal.linear .slides>section>section:not([data-transition]).past{transform:translate(0,-150%)}.reveal .slides>section>section[data-transition=linear].future,.reveal .slides>section>section[data-transition~=linear-in].future,.reveal.linear .slides>section>section:not([data-transition]).future{transform:translate(0,150%)}.reveal .slides section[data-transition=default].stack,.reveal.default .slides section.stack{transform-style:preserve-3d}.reveal .slides>section[data-transition=default].past,.reveal .slides>section[data-transition~=default-out].past,.reveal.default .slides>section:not([data-transition]).past{transform:translate3d(-100%,0,0) rotateY(-90deg) translate3d(-100%,0,0)}.reveal .slides>section[data-transition=default].future,.reveal .slides>section[data-transition~=default-in].future,.reveal.default .slides>section:not([data-transition]).future{transform:translate3d(100%,0,0) rotateY(90deg) translate3d(100%,0,0)}.reveal .slides>section>section[data-transition=default].past,.reveal .slides>section>section[data-transition~=default-out].past,.reveal.default .slides>section>section:not([data-transition]).past{transform:translate3d(0,-300px,0) rotateX(70deg) translate3d(0,-300px,0)}.reveal .slides>section>section[data-transition=default].future,.reveal .slides>section>section[data-transition~=default-in].future,.reveal.default .slides>section>section:not([data-transition]).future{transform:translate3d(0,300px,0) rotateX(-70deg) translate3d(0,300px,0)}.reveal .slides section[data-transition=convex].stack,.reveal.convex .slides section.stack{transform-style:preserve-3d}.reveal .slides>section[data-transition=convex].past,.reveal .slides>section[data-transition~=convex-out].past,.reveal.convex .slides>section:not([data-transition]).past{transform:translate3d(-100%,0,0) rotateY(-90deg) translate3d(-100%,0,0)}.reveal .slides>section[data-transition=convex].future,.reveal .slides>section[data-transition~=convex-in].future,.reveal.convex .slides>section:not([data-transition]).future{transform:translate3d(100%,0,0) rotateY(90deg) translate3d(100%,0,0)}.reveal .slides>section>section[data-transition=convex].past,.reveal .slides>section>section[data-transition~=convex-out].past,.reveal.convex .slides>section>section:not([data-transition]).past{transform:translate3d(0,-300px,0) rotateX(70deg) translate3d(0,-300px,0)}.reveal .slides>section>section[data-transition=convex].future,.reveal .slides>section>section[data-transition~=convex-in].future,.reveal.convex .slides>section>section:not([data-transition]).future{transform:translate3d(0,300px,0) rotateX(-70deg) translate3d(0,300px,0)}.reveal .slides section[data-transition=concave].stack,.reveal.concave .slides section.stack{transform-style:preserve-3d}.reveal .slides>section[data-transition=concave].past,.reveal .slides>section[data-transition~=concave-out].past,.reveal.concave .slides>section:not([data-transition]).past{transform:translate3d(-100%,0,0) rotateY(90deg) translate3d(-100%,0,0)}.reveal .slides>section[data-transition=concave].future,.reveal .slides>section[data-transition~=concave-in].future,.reveal.concave .slides>section:not([data-transition]).future{transform:translate3d(100%,0,0) rotateY(-90deg) translate3d(100%,0,0)}.reveal .slides>section>section[data-transition=concave].past,.reveal .slides>section>section[data-transition~=concave-out].past,.reveal.concave .slides>section>section:not([data-transition]).past{transform:translate3d(0,-80%,0) rotateX(-70deg) translate3d(0,-80%,0)}.reveal .slides>section>section[data-transition=concave].future,.reveal .slides>section>section[data-transition~=concave-in].future,.reveal.concave .slides>section>section:not([data-transition]).future{transform:translate3d(0,80%,0) rotateX(70deg) translate3d(0,80%,0)}.reveal .slides section[data-transition=zoom],.reveal.zoom .slides section:not([data-transition]){transition-timing-function:ease}.reveal .slides>section[data-transition=zoom].past,.reveal .slides>section[data-transition~=zoom-out].past,.reveal.zoom .slides>section:not([data-transition]).past{visibility:hidden;transform:scale(16)}.reveal .slides>section[data-transition=zoom].future,.reveal .slides>section[data-transition~=zoom-in].future,.reveal.zoom .slides>section:not([data-transition]).future{visibility:hidden;transform:scale(.2)}.reveal .slides>section>section[data-transition=zoom].past,.reveal .slides>section>section[data-transition~=zoom-out].past,.reveal.zoom .slides>section>section:not([data-transition]).past{transform:scale(16)}.reveal .slides>section>section[data-transition=zoom].future,.reveal .slides>section>section[data-transition~=zoom-in].future,.reveal.zoom .slides>section>section:not([data-transition]).future{transform:scale(.2)}.reveal.cube .slides{perspective:1300px}.reveal.cube .slides section{padding:30px;min-height:700px;backface-visibility:hidden;box-sizing:border-box;transform-style:preserve-3d}.reveal.center.cube .slides section{min-height:0}.reveal.cube .slides section:not(.stack):before{content:"";position:absolute;display:block;width:100%;height:100%;left:0;top:0;background:rgba(0,0,0,.1);border-radius:4px;transform:translateZ(-20px)}.reveal.cube .slides section:not(.stack):after{content:"";position:absolute;display:block;width:90%;height:30px;left:5%;bottom:0;background:0 0;z-index:1;border-radius:4px;box-shadow:0 95px 25px rgba(0,0,0,.2);transform:translateZ(-90px) rotateX(65deg)}.reveal.cube .slides>section.stack{padding:0;background:0 0}.reveal.cube .slides>section.past{transform-origin:100% 0;transform:translate3d(-100%,0,0) rotateY(-90deg)}.reveal.cube .slides>section.future{transform-origin:0 0;transform:translate3d(100%,0,0) rotateY(90deg)}.reveal.cube .slides>section>section.past{transform-origin:0 100%;transform:translate3d(0,-100%,0) rotateX(90deg)}.reveal.cube .slides>section>section.future{transform-origin:0 0;transform:translate3d(0,100%,0) rotateX(-90deg)}.reveal.page .slides{perspective-origin:0 50%;perspective:3000px}.reveal.page .slides section{padding:30px;min-height:700px;box-sizing:border-box;transform-style:preserve-3d}.reveal.page .slides section.past{z-index:12}.reveal.page .slides section:not(.stack):before{content:"";position:absolute;display:block;width:100%;height:100%;left:0;top:0;background:rgba(0,0,0,.1);transform:translateZ(-20px)}.reveal.page .slides section:not(.stack):after{content:"";position:absolute;display:block;width:90%;height:30px;left:5%;bottom:0;background:0 0;z-index:1;border-radius:4px;box-shadow:0 95px 25px rgba(0,0,0,.2);-webkit-transform:translateZ(-90px) rotateX(65deg)}.reveal.page .slides>section.stack{padding:0;background:0 0}.reveal.page .slides>section.past{transform-origin:0 0;transform:translate3d(-40%,0,0) rotateY(-80deg)}.reveal.page .slides>section.future{transform-origin:100% 0;transform:translate3d(0,0,0)}.reveal.page .slides>section>section.past{transform-origin:0 0;transform:translate3d(0,-40%,0) rotateX(80deg)}.reveal.page .slides>section>section.future{transform-origin:0 100%;transform:translate3d(0,0,0)}.reveal .slides section[data-transition=fade],.reveal.fade .slides section:not([data-transition]),.reveal.fade .slides>section>section:not([data-transition]){transform:none;transition:opacity .5s}.reveal.fade.overview .slides section,.reveal.fade.overview .slides>section>section{transition:none}.reveal .slides section[data-transition=none],.reveal.none .slides section:not([data-transition]){transform:none;transition:none}.reveal .pause-overlay{position:absolute;top:0;left:0;width:100%;height:100%;background:#000;visibility:hidden;opacity:0;z-index:100;transition:all 1s ease}.reveal .pause-overlay .resume-button{position:absolute;bottom:20px;right:20px;color:#ccc;border-radius:2px;padding:6px 14px;border:2px solid #ccc;font-size:16px;background:0 0;cursor:pointer}.reveal .pause-overlay .resume-button:hover{color:#fff;border-color:#fff}.reveal.paused .pause-overlay{visibility:visible;opacity:1}.reveal .no-transition,.reveal .no-transition *,.reveal .slides.disable-slide-transitions section{transition:none!important}.reveal .slides.disable-slide-transitions section{transform:none!important}.reveal .backgrounds{position:absolute;width:100%;height:100%;top:0;left:0;perspective:600px}.reveal .slide-background{display:none;position:absolute;width:100%;height:100%;opacity:0;visibility:hidden;overflow:hidden;background-color:rgba(0,0,0,0);transition:all .8s cubic-bezier(.26,.86,.44,.985)}.reveal .slide-background-content{position:absolute;width:100%;height:100%;background-position:50% 50%;background-repeat:no-repeat;background-size:cover}.reveal .slide-background.stack{display:block}.reveal .slide-background.present{opacity:1;visibility:visible;z-index:2}.print-pdf .reveal .slide-background{opacity:1!important;visibility:visible!important}.reveal .slide-background video{position:absolute;width:100%;height:100%;max-width:none;max-height:none;top:0;left:0;object-fit:cover}.reveal .slide-background[data-background-size=contain] video{object-fit:contain}.reveal>.backgrounds .slide-background[data-background-transition=none],.reveal[data-background-transition=none]>.backgrounds .slide-background:not([data-background-transition]){transition:none}.reveal>.backgrounds .slide-background[data-background-transition=slide],.reveal[data-background-transition=slide]>.backgrounds .slide-background:not([data-background-transition]){opacity:1}.reveal>.backgrounds .slide-background.past[data-background-transition=slide],.reveal[data-background-transition=slide]>.backgrounds .slide-background.past:not([data-background-transition]){transform:translate(-100%,0)}.reveal>.backgrounds .slide-background.future[data-background-transition=slide],.reveal[data-background-transition=slide]>.backgrounds .slide-background.future:not([data-background-transition]){transform:translate(100%,0)}.reveal>.backgrounds .slide-background>.slide-background.past[data-background-transition=slide],.reveal[data-background-transition=slide]>.backgrounds .slide-background>.slide-background.past:not([data-background-transition]){transform:translate(0,-100%)}.reveal>.backgrounds .slide-background>.slide-background.future[data-background-transition=slide],.reveal[data-background-transition=slide]>.backgrounds .slide-background>.slide-background.future:not([data-background-transition]){transform:translate(0,100%)}.reveal>.backgrounds .slide-background.past[data-background-transition=convex],.reveal[data-background-transition=convex]>.backgrounds .slide-background.past:not([data-background-transition]){opacity:0;transform:translate3d(-100%,0,0) rotateY(-90deg) translate3d(-100%,0,0)}.reveal>.backgrounds .slide-background.future[data-background-transition=convex],.reveal[data-background-transition=convex]>.backgrounds .slide-background.future:not([data-background-transition]){opacity:0;transform:translate3d(100%,0,0) rotateY(90deg) translate3d(100%,0,0)}.reveal>.backgrounds .slide-background>.slide-background.past[data-background-transition=convex],.reveal[data-background-transition=convex]>.backgrounds .slide-background>.slide-background.past:not([data-background-transition]){opacity:0;transform:translate3d(0,-100%,0) rotateX(90deg) translate3d(0,-100%,0)}.reveal>.backgrounds .slide-background>.slide-background.future[data-background-transition=convex],.reveal[data-background-transition=convex]>.backgrounds .slide-background>.slide-background.future:not([data-background-transition]){opacity:0;transform:translate3d(0,100%,0) rotateX(-90deg) translate3d(0,100%,0)}.reveal>.backgrounds .slide-background.past[data-background-transition=concave],.reveal[data-background-transition=concave]>.backgrounds .slide-background.past:not([data-background-transition]){opacity:0;transform:translate3d(-100%,0,0) rotateY(90deg) translate3d(-100%,0,0)}.reveal>.backgrounds .slide-background.future[data-background-transition=concave],.reveal[data-background-transition=concave]>.backgrounds .slide-background.future:not([data-background-transition]){opacity:0;transform:translate3d(100%,0,0) rotateY(-90deg) translate3d(100%,0,0)}.reveal>.backgrounds .slide-background>.slide-background.past[data-background-transition=concave],.reveal[data-background-transition=concave]>.backgrounds .slide-background>.slide-background.past:not([data-background-transition]){opacity:0;transform:translate3d(0,-100%,0) rotateX(-90deg) translate3d(0,-100%,0)}.reveal>.backgrounds .slide-background>.slide-background.future[data-background-transition=concave],.reveal[data-background-transition=concave]>.backgrounds .slide-background>.slide-background.future:not([data-background-transition]){opacity:0;transform:translate3d(0,100%,0) rotateX(90deg) translate3d(0,100%,0)}.reveal>.backgrounds .slide-background[data-background-transition=zoom],.reveal[data-background-transition=zoom]>.backgrounds .slide-background:not([data-background-transition]){transition-timing-function:ease}.reveal>.backgrounds .slide-background.past[data-background-transition=zoom],.reveal[data-background-transition=zoom]>.backgrounds .slide-background.past:not([data-background-transition]){opacity:0;visibility:hidden;transform:scale(16)}.reveal>.backgrounds .slide-background.future[data-background-transition=zoom],.reveal[data-background-transition=zoom]>.backgrounds .slide-background.future:not([data-background-transition]){opacity:0;visibility:hidden;transform:scale(.2)}.reveal>.backgrounds .slide-background>.slide-background.past[data-background-transition=zoom],.reveal[data-background-transition=zoom]>.backgrounds .slide-background>.slide-background.past:not([data-background-transition]){opacity:0;visibility:hidden;transform:scale(16)}.reveal>.backgrounds .slide-background>.slide-background.future[data-background-transition=zoom],.reveal[data-background-transition=zoom]>.backgrounds .slide-background>.slide-background.future:not([data-background-transition]){opacity:0;visibility:hidden;transform:scale(.2)}.reveal[data-transition-speed=fast]>.backgrounds .slide-background{transition-duration:.4s}.reveal[data-transition-speed=slow]>.backgrounds .slide-background{transition-duration:1.2s}.reveal [data-auto-animate-target^=unmatched]{will-change:opacity}.reveal section[data-auto-animate]:not(.stack):not([data-auto-animate=running]) [data-auto-animate-target^=unmatched]{opacity:0}.reveal.overview{perspective-origin:50% 50%;perspective:700px}.reveal.overview .slides{-moz-transform-style:preserve-3d}.reveal.overview .slides section{height:100%;top:0!important;opacity:1!important;overflow:hidden;visibility:visible!important;cursor:pointer;box-sizing:border-box}.reveal.overview .slides section.present,.reveal.overview .slides section:hover{outline:10px solid rgba(150,150,150,.4);outline-offset:10px}.reveal.overview .slides section .fragment{opacity:1;transition:none}.reveal.overview .slides section:after,.reveal.overview .slides section:before{display:none!important}.reveal.overview .slides>section.stack{padding:0;top:0!important;background:0 0;outline:0;overflow:visible}.reveal.overview .backgrounds{perspective:inherit;-moz-transform-style:preserve-3d}.reveal.overview .backgrounds .slide-background{opacity:1;visibility:visible;outline:10px solid rgba(150,150,150,.1);outline-offset:10px}.reveal.overview .backgrounds .slide-background.stack{overflow:visible}.reveal.overview .slides section,.reveal.overview-deactivating .slides section{transition:none}.reveal.overview .backgrounds .slide-background,.reveal.overview-deactivating .backgrounds .slide-background{transition:none}.reveal.rtl .slides,.reveal.rtl .slides h1,.reveal.rtl .slides h2,.reveal.rtl .slides h3,.reveal.rtl .slides h4,.reveal.rtl .slides h5,.reveal.rtl .slides h6{direction:rtl;font-family:sans-serif}.reveal.rtl code,.reveal.rtl pre{direction:ltr}.reveal.rtl ol,.reveal.rtl ul{text-align:right}.reveal.rtl .progress span{transform-origin:100% 0}.reveal.has-parallax-background .backgrounds{transition:all .8s ease}.reveal.has-parallax-background[data-transition-speed=fast] .backgrounds{transition-duration:.4s}.reveal.has-parallax-background[data-transition-speed=slow] .backgrounds{transition-duration:1.2s}.reveal>.overlay{position:absolute;top:0;left:0;width:100%;height:100%;z-index:1000;background:rgba(0,0,0,.9);transition:all .3s ease}.reveal>.overlay .spinner{position:absolute;display:block;top:50%;left:50%;width:32px;height:32px;margin:-16px 0 0 -16px;z-index:10;background-image:url(data:image/gif;base64,R0lGODlhIAAgAPMAAJmZmf%2F%2F%2F6%2Bvr8nJybW1tcDAwOjo6Nvb26ioqKOjo7Ozs%2FLy8vz8%2FAAAAAAAAAAAACH%2FC05FVFNDQVBFMi4wAwEAAAAh%2FhpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh%2BQQJCgAAACwAAAAAIAAgAAAE5xDISWlhperN52JLhSSdRgwVo1ICQZRUsiwHpTJT4iowNS8vyW2icCF6k8HMMBkCEDskxTBDAZwuAkkqIfxIQyhBQBFvAQSDITM5VDW6XNE4KagNh6Bgwe60smQUB3d4Rz1ZBApnFASDd0hihh12BkE9kjAJVlycXIg7CQIFA6SlnJ87paqbSKiKoqusnbMdmDC2tXQlkUhziYtyWTxIfy6BE8WJt5YJvpJivxNaGmLHT0VnOgSYf0dZXS7APdpB309RnHOG5gDqXGLDaC457D1zZ%2FV%2FnmOM82XiHRLYKhKP1oZmADdEAAAh%2BQQJCgAAACwAAAAAIAAgAAAE6hDISWlZpOrNp1lGNRSdRpDUolIGw5RUYhhHukqFu8DsrEyqnWThGvAmhVlteBvojpTDDBUEIFwMFBRAmBkSgOrBFZogCASwBDEY%2FCZSg7GSE0gSCjQBMVG023xWBhklAnoEdhQEfyNqMIcKjhRsjEdnezB%2BA4k8gTwJhFuiW4dokXiloUepBAp5qaKpp6%2BHo7aWW54wl7obvEe0kRuoplCGepwSx2jJvqHEmGt6whJpGpfJCHmOoNHKaHx61WiSR92E4lbFoq%2BB6QDtuetcaBPnW6%2BO7wDHpIiK9SaVK5GgV543tzjgGcghAgAh%2BQQJCgAAACwAAAAAIAAgAAAE7hDISSkxpOrN5zFHNWRdhSiVoVLHspRUMoyUakyEe8PTPCATW9A14E0UvuAKMNAZKYUZCiBMuBakSQKG8G2FzUWox2AUtAQFcBKlVQoLgQReZhQlCIJesQXI5B0CBnUMOxMCenoCfTCEWBsJColTMANldx15BGs8B5wlCZ9Po6OJkwmRpnqkqnuSrayqfKmqpLajoiW5HJq7FL1Gr2mMMcKUMIiJgIemy7xZtJsTmsM4xHiKv5KMCXqfyUCJEonXPN2rAOIAmsfB3uPoAK%2B%2BG%2Bw48edZPK%2BM6hLJpQg484enXIdQFSS1u6UhksENEQAAIfkECQoAAAAsAAAAACAAIAAABOcQyEmpGKLqzWcZRVUQnZYg1aBSh2GUVEIQ2aQOE%2BG%2BcD4ntpWkZQj1JIiZIogDFFyHI0UxQwFugMSOFIPJftfVAEoZLBbcLEFhlQiqGp1Vd140AUklUN3eCA51C1EWMzMCezCBBmkxVIVHBWd3HHl9JQOIJSdSnJ0TDKChCwUJjoWMPaGqDKannasMo6WnM562R5YluZRwur0wpgqZE7NKUm%2BFNRPIhjBJxKZteWuIBMN4zRMIVIhffcgojwCF117i4nlLnY5ztRLsnOk%2BaV%2BoJY7V7m76PdkS4trKcdg0Zc0tTcKkRAAAIfkECQoAAAAsAAAAACAAIAAABO4QyEkpKqjqzScpRaVkXZWQEximw1BSCUEIlDohrft6cpKCk5xid5MNJTaAIkekKGQkWyKHkvhKsR7ARmitkAYDYRIbUQRQjWBwJRzChi9CRlBcY1UN4g0%2FVNB0AlcvcAYHRyZPdEQFYV8ccwR5HWxEJ02YmRMLnJ1xCYp0Y5idpQuhopmmC2KgojKasUQDk5BNAwwMOh2RtRq5uQuPZKGIJQIGwAwGf6I0JXMpC8C7kXWDBINFMxS4DKMAWVWAGYsAdNqW5uaRxkSKJOZKaU3tPOBZ4DuK2LATgJhkPJMgTwKCdFjyPHEnKxFCDhEAACH5BAkKAAAALAAAAAAgACAAAATzEMhJaVKp6s2nIkolIJ2WkBShpkVRWqqQrhLSEu9MZJKK9y1ZrqYK9WiClmvoUaF8gIQSNeF1Er4MNFn4SRSDARWroAIETg1iVwuHjYB1kYc1mwruwXKC9gmsJXliGxc%2BXiUCby9ydh1sOSdMkpMTBpaXBzsfhoc5l58Gm5yToAaZhaOUqjkDgCWNHAULCwOLaTmzswadEqggQwgHuQsHIoZCHQMMQgQGubVEcxOPFAcMDAYUA85eWARmfSRQCdcMe0zeP1AAygwLlJtPNAAL19DARdPzBOWSm1brJBi45soRAWQAAkrQIykShQ9wVhHCwCQCACH5BAkKAAAALAAAAAAgACAAAATrEMhJaVKp6s2nIkqFZF2VIBWhUsJaTokqUCoBq%2BE71SRQeyqUToLA7VxF0JDyIQh%2FMVVPMt1ECZlfcjZJ9mIKoaTl1MRIl5o4CUKXOwmyrCInCKqcWtvadL2SYhyASyNDJ0uIiRMDjI0Fd30%2FiI2UA5GSS5UDj2l6NoqgOgN4gksEBgYFf0FDqKgHnyZ9OX8HrgYHdHpcHQULXAS2qKpENRg7eAMLC7kTBaixUYFkKAzWAAnLC7FLVxLWDBLKCwaKTULgEwbLA4hJtOkSBNqITT3xEgfLpBtzE%2FjiuL04RGEBgwWhShRgQExHBAAh%2BQQJCgAAACwAAAAAIAAgAAAE7xDISWlSqerNpyJKhWRdlSAVoVLCWk6JKlAqAavhO9UkUHsqlE6CwO1cRdCQ8iEIfzFVTzLdRAmZX3I2SfZiCqGk5dTESJeaOAlClzsJsqwiJwiqnFrb2nS9kmIcgEsjQydLiIlHehhpejaIjzh9eomSjZR%2BipslWIRLAgMDOR2DOqKogTB9pCUJBagDBXR6XB0EBkIIsaRsGGMMAxoDBgYHTKJiUYEGDAzHC9EACcUGkIgFzgwZ0QsSBcXHiQvOwgDdEwfFs0sDzt4S6BK4xYjkDOzn0unFeBzOBijIm1Dgmg5YFQwsCMjp1oJ8LyIAACH5BAkKAAAALAAAAAAgACAAAATwEMhJaVKp6s2nIkqFZF2VIBWhUsJaTokqUCoBq%2BE71SRQeyqUToLA7VxF0JDyIQh%2FMVVPMt1ECZlfcjZJ9mIKoaTl1MRIl5o4CUKXOwmyrCInCKqcWtvadL2SYhyASyNDJ0uIiUd6GGl6NoiPOH16iZKNlH6KmyWFOggHhEEvAwwMA0N9GBsEC6amhnVcEwavDAazGwIDaH1ipaYLBUTCGgQDA8NdHz0FpqgTBwsLqAbWAAnIA4FWKdMLGdYGEgraigbT0OITBcg5QwPT4xLrROZL6AuQAPUS7bxLpoWidY0JtxLHKhwwMJBTHgPKdEQAACH5BAkKAAAALAAAAAAgACAAAATrEMhJaVKp6s2nIkqFZF2VIBWhUsJaTokqUCoBq%2BE71SRQeyqUToLA7VxF0JDyIQh%2FMVVPMt1ECZlfcjZJ9mIKoaTl1MRIl5o4CUKXOwmyrCInCKqcWtvadL2SYhyASyNDJ0uIiUd6GAULDJCRiXo1CpGXDJOUjY%2BYip9DhToJA4RBLwMLCwVDfRgbBAaqqoZ1XBMHswsHtxtFaH1iqaoGNgAIxRpbFAgfPQSqpbgGBqUD1wBXeCYp1AYZ19JJOYgH1KwA4UBvQwXUBxPqVD9L3sbp2BNk2xvvFPJd%2BMFCN6HAAIKgNggY0KtEBAAh%2BQQJCgAAACwAAAAAIAAgAAAE6BDISWlSqerNpyJKhWRdlSAVoVLCWk6JKlAqAavhO9UkUHsqlE6CwO1cRdCQ8iEIfzFVTzLdRAmZX3I2SfYIDMaAFdTESJeaEDAIMxYFqrOUaNW4E4ObYcCXaiBVEgULe0NJaxxtYksjh2NLkZISgDgJhHthkpU4mW6blRiYmZOlh4JWkDqILwUGBnE6TYEbCgevr0N1gH4At7gHiRpFaLNrrq8HNgAJA70AWxQIH1%2BvsYMDAzZQPC9VCNkDWUhGkuE5PxJNwiUK4UfLzOlD4WvzAHaoG9nxPi5d%2BjYUqfAhhykOFwJWiAAAIfkECQoAAAAsAAAAACAAIAAABPAQyElpUqnqzaciSoVkXVUMFaFSwlpOCcMYlErAavhOMnNLNo8KsZsMZItJEIDIFSkLGQoQTNhIsFehRww2CQLKF0tYGKYSg%2BygsZIuNqJksKgbfgIGepNo2cIUB3V1B3IvNiBYNQaDSTtfhhx0CwVPI0UJe0%2Bbm4g5VgcGoqOcnjmjqDSdnhgEoamcsZuXO1aWQy8KAwOAuTYYGwi7w5h%2BKr0SJ8MFihpNbx%2B4Erq7BYBuzsdiH1jCAzoSfl0rVirNbRXlBBlLX%2BBP0XJLAPGzTkAuAOqb0WT5AH7OcdCm5B8TgRwSRKIHQtaLCwg1RAAAOwAAAAAAAAAAAA%3D%3D);visibility:visible;opacity:.6;transition:all .3s ease}.reveal>.overlay header{position:absolute;left:0;top:0;width:100%;padding:5px;z-index:2;box-sizing:border-box}.reveal>.overlay header a{display:inline-block;width:40px;height:40px;line-height:36px;padding:0 10px;float:right;opacity:.6;box-sizing:border-box}.reveal>.overlay header a:hover{opacity:1}.reveal>.overlay header a .icon{display:inline-block;width:20px;height:20px;background-position:50% 50%;background-size:100%;background-repeat:no-repeat}.reveal>.overlay header a.close .icon{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABkklEQVRYR8WX4VHDMAxG6wnoJrABZQPYBCaBTWAD2g1gE5gg6OOsXuxIlr40d81dfrSJ9V4c2VLK7spHuTJ/5wpM07QXuXc5X0opX2tEJcadjHuV80li/FgxTIEK/5QBCICBD6xEhSMGHgQPgBgLiYVAB1dpSqKDawxTohFw4JSEA3clzgIBPCURwE2JucBR7rhPJJv5OpJwDX+SfDjgx1wACQeJG1aChP9K/IMmdZ8DtESV1WyP3Bt4MwM6sj4NMxMYiqUWHQu4KYA/SYkIjOsm3BXYWMKFDwU2khjCQ4ELJUJ4SmClRArOCmSXGuKma0fYD5CbzHxFpCSGAhfAVSSUGDUk2BWZaff2g6GE15BsBQ9nwmpIGDiyHQddwNTMKkbZaf9fajXQca1EX44puJZUsnY0ObGmITE3GVLCbEhQUjGVt146j6oasWN+49Vph2w1pZ5EansNZqKBm1txbU57iRRcZ86RWMDdWtBJUHBHwoQPi1GV+JCbntmvok7iTX4/Up9mgyTc/FJYDTcndgH/AA5A/CHsyEkVAAAAAElFTkSuQmCC)}.reveal>.overlay header a.external .icon{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAcElEQVRYR+2WSQoAIQwEzf8f7XiOMkUQxUPlGkM3hVmiQfQR9GYnH1SsAQlI4DiBqkCMoNb9y2e90IAEJPAcgdznU9+engMaeJ7Azh5Y1U67gAho4DqBqmB1buAf0MB1AlVBek83ZPkmJMGc1wAR+AAqod/B97TRpQAAAABJRU5ErkJggg==)}.reveal>.overlay .viewport{position:absolute;display:flex;top:50px;right:0;bottom:0;left:0}.reveal>.overlay.overlay-preview .viewport iframe{width:100%;height:100%;max-width:100%;max-height:100%;border:0;opacity:0;visibility:hidden;transition:all .3s ease}.reveal>.overlay.overlay-preview.loaded .viewport iframe{opacity:1;visibility:visible}.reveal>.overlay.overlay-preview.loaded .viewport-inner{position:absolute;z-index:-1;left:0;top:45%;width:100%;text-align:center;letter-spacing:normal}.reveal>.overlay.overlay-preview .x-frame-error{opacity:0;transition:opacity .3s ease .3s}.reveal>.overlay.overlay-preview.loaded .x-frame-error{opacity:1}.reveal>.overlay.overlay-preview.loaded .spinner{opacity:0;visibility:hidden;transform:scale(.2)}.reveal>.overlay.overlay-help .viewport{overflow:auto;color:#fff}.reveal>.overlay.overlay-help .viewport .viewport-inner{width:600px;margin:auto;padding:20px 20px 80px 20px;text-align:center;letter-spacing:normal}.reveal>.overlay.overlay-help .viewport .viewport-inner .title{font-size:20px}.reveal>.overlay.overlay-help .viewport .viewport-inner table{border:1px solid #fff;border-collapse:collapse;font-size:16px}.reveal>.overlay.overlay-help .viewport .viewport-inner table td,.reveal>.overlay.overlay-help .viewport .viewport-inner table th{width:200px;padding:14px;border:1px solid #fff;vertical-align:middle}.reveal>.overlay.overlay-help .viewport .viewport-inner table th{padding-top:20px;padding-bottom:20px}.reveal .playback{position:absolute;left:15px;bottom:20px;z-index:30;cursor:pointer;transition:all .4s ease;-webkit-tap-highlight-color:transparent}.reveal.overview .playback{opacity:0;visibility:hidden}.reveal .hljs{min-height:100%}.reveal .hljs table{margin:initial}.reveal .hljs-ln-code,.reveal .hljs-ln-numbers{padding:0;border:0}.reveal .hljs-ln-numbers{opacity:.6;padding-right:.75em;text-align:right;vertical-align:top}.reveal .hljs.has-highlights tr:not(.highlight-line){opacity:.4}.reveal .hljs.has-highlights.fragment{transition:all .2s ease}.reveal .hljs:not(:first-child).fragment{position:absolute;top:0;left:0;width:100%;box-sizing:border-box}.reveal pre[data-auto-animate-target]{overflow:hidden}.reveal pre[data-auto-animate-target] code{height:100%}.reveal .roll{display:inline-block;line-height:1.2;overflow:hidden;vertical-align:top;perspective:400px;perspective-origin:50% 50%}.reveal .roll:hover{background:0 0;text-shadow:none}.reveal .roll span{display:block;position:relative;padding:0 2px;pointer-events:none;transition:all .4s ease;transform-origin:50% 0;transform-style:preserve-3d;backface-visibility:hidden}.reveal .roll:hover span{background:rgba(0,0,0,.5);transform:translate3d(0,0,-45px) rotateX(90deg)}.reveal .roll span:after{content:attr(data-title);display:block;position:absolute;left:0;top:0;padding:0 2px;backface-visibility:hidden;transform-origin:50% 0;transform:translate3d(0,110%,0) rotateX(-90deg)}.reveal aside.notes{display:none}.reveal .speaker-notes{display:none;position:absolute;width:33.3333333333%;height:100%;top:0;left:100%;padding:14px 18px 14px 18px;z-index:1;font-size:18px;line-height:1.4;border:1px solid rgba(0,0,0,.05);color:#222;background-color:#f5f5f5;overflow:auto;box-sizing:border-box;text-align:left;font-family:Helvetica,sans-serif;-webkit-overflow-scrolling:touch}.reveal .speaker-notes .notes-placeholder{color:#ccc;font-style:italic}.reveal .speaker-notes:focus{outline:0}.reveal .speaker-notes:before{content:"Speaker notes";display:block;margin-bottom:10px;opacity:.5}.reveal.show-notes{max-width:75%;overflow:visible}.reveal.show-notes .speaker-notes{display:block}@media screen and (min-width:1600px){.reveal .speaker-notes{font-size:20px}}@media screen and (max-width:1024px){.reveal.show-notes{border-left:0;max-width:none;max-height:70%;max-height:70vh;overflow:visible}.reveal.show-notes .speaker-notes{top:100%;left:0;width:100%;height:30vh;border:0}}@media screen and (max-width:600px){.reveal.show-notes{max-height:60%;max-height:60vh}.reveal.show-notes .speaker-notes{top:100%;height:40vh}.reveal .speaker-notes{font-size:14px}}.reveal .jump-to-slide{position:absolute;top:15px;left:15px;z-index:30;font-size:32px;-webkit-tap-highlight-color:transparent}.reveal .jump-to-slide-input{background:0 0;padding:8px;font-size:inherit;color:currentColor;border:0}.reveal .jump-to-slide-input::placeholder{color:currentColor;opacity:.5}.reveal.has-dark-background .jump-to-slide-input{color:#fff}.reveal.has-light-background .jump-to-slide-input{color:#222}.reveal .jump-to-slide-input:focus{outline:0}.zoomed .reveal *,.zoomed .reveal :after,.zoomed .reveal :before{backface-visibility:visible!important}.zoomed .reveal .controls,.zoomed .reveal .progress{opacity:0}.zoomed .reveal .roll span{background:0 0}.zoomed .reveal .roll span:after{visibility:hidden}html.print-pdf *{-webkit-print-color-adjust:exact}html.print-pdf{width:100%;height:100%;overflow:visible}html.print-pdf body{margin:0 auto!important;border:0;padding:0;float:none!important;overflow:visible}html.print-pdf .nestedarrow,html.print-pdf .reveal .controls,html.print-pdf .reveal .playback,html.print-pdf .reveal .progress,html.print-pdf .reveal.overview,html.print-pdf .state-background{display:none!important}html.print-pdf .reveal pre code{overflow:hidden!important}html.print-pdf .reveal{width:auto!important;height:auto!important;overflow:hidden!important}html.print-pdf .reveal .slides{position:static;width:100%!important;height:auto!important;zoom:1!important;pointer-events:initial;left:auto;top:auto;margin:0!important;padding:0!important;overflow:visible;display:block;perspective:none;perspective-origin:50% 50%}html.print-pdf .reveal .slides .pdf-page{position:relative;overflow:hidden;z-index:1;page-break-after:always}html.print-pdf .reveal .slides section{visibility:visible!important;display:block!important;position:absolute!important;margin:0!important;padding:0!important;box-sizing:border-box!important;min-height:1px;opacity:1!important;transform-style:flat!important;transform:none!important}html.print-pdf .reveal section.stack{position:relative!important;margin:0!important;padding:0!important;page-break-after:avoid!important;height:auto!important;min-height:auto!important}html.print-pdf .reveal img{box-shadow:none}html.print-pdf .reveal .backgrounds{display:none}html.print-pdf .reveal .slide-background{display:block!important;position:absolute;top:0;left:0;width:100%;height:100%;z-index:auto!important}html.print-pdf .reveal.show-notes{max-width:none;max-height:none}html.print-pdf .reveal .speaker-notes-pdf{display:block;width:100%;height:auto;max-height:none;top:auto;right:auto;bottom:auto;left:auto;z-index:100}html.print-pdf .reveal .speaker-notes-pdf[data-layout=separate-page]{position:relative;color:inherit;background-color:transparent;padding:20px;page-break-after:always;border:0}html.print-pdf .reveal .slide-number-pdf{display:block;position:absolute;font-size:14px}html.print-pdf .aria-status{display:none}@media print{html:not(.print-pdf){overflow:visible;width:auto;height:auto}html:not(.print-pdf) body{margin:0;padding:0;overflow:visible}html:not(.print-pdf) .reveal{background:#fff;font-size:20pt}html:not(.print-pdf) .reveal .backgrounds,html:not(.print-pdf) .reveal .controls,html:not(.print-pdf) .reveal .progress,html:not(.print-pdf) .reveal .slide-number,html:not(.print-pdf) .reveal .state-background{display:none!important}html:not(.print-pdf) .reveal li,html:not(.print-pdf) .reveal p,html:not(.print-pdf) .reveal td{font-size:20pt!important;color:#000}html:not(.print-pdf) .reveal h1,html:not(.print-pdf) .reveal h2,html:not(.print-pdf) .reveal h3,html:not(.print-pdf) .reveal h4,html:not(.print-pdf) .reveal h5,html:not(.print-pdf) .reveal h6{color:#000!important;height:auto;line-height:normal;text-align:left;letter-spacing:normal}html:not(.print-pdf) .reveal h1{font-size:28pt!important}html:not(.print-pdf) .reveal h2{font-size:24pt!important}html:not(.print-pdf) .reveal h3{font-size:22pt!important}html:not(.print-pdf) .reveal h4{font-size:22pt!important;font-variant:small-caps}html:not(.print-pdf) .reveal h5{font-size:21pt!important}html:not(.print-pdf) .reveal h6{font-size:20pt!important;font-style:italic}html:not(.print-pdf) .reveal a:link,html:not(.print-pdf) .reveal a:visited{color:#000!important;font-weight:700;text-decoration:underline}html:not(.print-pdf) .reveal div,html:not(.print-pdf) .reveal ol,html:not(.print-pdf) .reveal p,html:not(.print-pdf) .reveal ul{visibility:visible;position:static;width:auto;height:auto;display:block;overflow:visible;margin:0;text-align:left!important}html:not(.print-pdf) .reveal pre,html:not(.print-pdf) .reveal table{margin-left:0;margin-right:0}html:not(.print-pdf) .reveal pre code{padding:20px}html:not(.print-pdf) .reveal blockquote{margin:20px 0}html:not(.print-pdf) .reveal .slides{position:static!important;width:auto!important;height:auto!important;left:0!important;top:0!important;margin-left:0!important;margin-top:0!important;padding:0!important;zoom:1!important;transform:none!important;overflow:visible!important;display:block!important;text-align:left!important;perspective:none;perspective-origin:50% 50%}html:not(.print-pdf) .reveal .slides section{visibility:visible!important;position:static!important;width:auto!important;height:auto!important;display:block!important;overflow:visible!important;left:0!important;top:0!important;margin-left:0!important;margin-top:0!important;padding:60px 20px!important;z-index:auto!important;opacity:1!important;page-break-after:always!important;transform-style:flat!important;transform:none!important;transition:none!important}html:not(.print-pdf) .reveal .slides section.stack{padding:0!important}html:not(.print-pdf) .reveal .slides section:last-of-type{page-break-after:avoid!important}html:not(.print-pdf) .reveal .slides section .fragment{opacity:1!important;visibility:visible!important;transform:none!important}html:not(.print-pdf) .reveal .r-fit-text{white-space:normal!important}html:not(.print-pdf) .reveal section img{display:block;margin:15px 0;background:#fff;border:1px solid #666;box-shadow:none}html:not(.print-pdf) .reveal section small{font-size:.8em}html:not(.print-pdf) .reveal .hljs{max-height:100%;white-space:pre-wrap;word-wrap:break-word;word-break:break-word;font-size:15pt}html:not(.print-pdf) .reveal .hljs .hljs-ln-numbers{white-space:nowrap}html:not(.print-pdf) .reveal .hljs td{font-size:inherit!important;color:inherit!important}}
      
      </style>
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js@4.6.0/dist/theme/white.css">
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css">
      
      
        <script src="https://cdn.jsdelivr.net/npm/reveal.js@4.6.0/dist/reveal.js"></script>
      
      
      
      <style>
      code[class*=language-],pre[class*=language-]{color:#000;background:0 0;text-shadow:0 1px #fff;font-family:Consolas,Monaco,'Andale Mono','Ubuntu Mono',monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none}code[class*=language-] ::-moz-selection,code[class*=language-]::-moz-selection,pre[class*=language-] ::-moz-selection,pre[class*=language-]::-moz-selection{text-shadow:none;background:#b3d4fc}code[class*=language-] ::selection,code[class*=language-]::selection,pre[class*=language-] ::selection,pre[class*=language-]::selection{text-shadow:none;background:#b3d4fc}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#f5f2f0}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#999}.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#905}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#690}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url{color:#a67f59;background:hsla(0,0%,100%,.5)}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.function{color:#dd4a68}.token.important,.token.regex,.token.variable{color:#e90}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}pre[data-line]{position:relative;padding:1em 0 1em 3em}pre[data-line] .line-highlight-wrapper{position:absolute;top:0;left:0;background-color:transparent;display:block;width:100%}pre[data-line] .line-highlight{position:absolute;left:0;right:0;padding:inherit 0;margin-top:1em;background:hsla(24,20%,50%,.08);background:linear-gradient(to right,hsla(24,20%,50%,.1) 70%,hsla(24,20%,50%,0));pointer-events:none;line-height:inherit;white-space:pre}pre[data-line] .line-highlight:before,pre[data-line] .line-highlight[data-end]:after{content:attr(data-start);position:absolute;top:.4em;left:.6em;min-width:1em;padding:0 .5em;background-color:hsla(24,20%,50%,.4);color:#f4f1ef;font:bold 65%/1.5 sans-serif;text-align:center;vertical-align:.3em;border-radius:999px;text-shadow:none;box-shadow:0 1px #fff}pre[data-line] .line-highlight[data-end]:after{content:attr(data-end);top:auto;bottom:.4em}.markdown-preview{width:100%;height:100%;box-sizing:border-box}.markdown-preview ul{list-style:disc}.markdown-preview ul ul{list-style:circle}.markdown-preview ul ul ul{list-style:square}.markdown-preview ol{list-style:decimal}.markdown-preview ol ol,.markdown-preview ul ol{list-style-type:lower-roman}.markdown-preview ol ol ol,.markdown-preview ol ul ol,.markdown-preview ul ol ol,.markdown-preview ul ul ol{list-style-type:lower-alpha}.markdown-preview .newpage,.markdown-preview .pagebreak{page-break-before:always}.markdown-preview pre.line-numbers{position:relative;padding-left:3.8em;counter-reset:linenumber}.markdown-preview pre.line-numbers>code{position:relative}.markdown-preview pre.line-numbers .line-numbers-rows{position:absolute;pointer-events:none;top:1em;font-size:100%;left:0;width:3em;letter-spacing:-1px;border-right:1px solid #999;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.markdown-preview pre.line-numbers .line-numbers-rows>span{pointer-events:none;display:block;counter-increment:linenumber}.markdown-preview pre.line-numbers .line-numbers-rows>span:before{content:counter(linenumber);color:#999;display:block;padding-right:.8em;text-align:right}.markdown-preview .mathjax-exps .MathJax_Display{text-align:center!important}.markdown-preview:not([data-for=preview]) .code-chunk .code-chunk-btn-group{display:none}.markdown-preview:not([data-for=preview]) .code-chunk .status{display:none}.markdown-preview:not([data-for=preview]) .code-chunk .output-div{margin-bottom:16px}.markdown-preview .md-toc{padding:0}.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link{display:inline;padding:.25rem 0}.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link div,.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link p{display:inline}.markdown-preview .md-toc .md-toc-link-wrapper.highlighted .md-toc-link{font-weight:800}.scrollbar-style::-webkit-scrollbar{width:8px}.scrollbar-style::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}.scrollbar-style::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,.66);border:4px solid rgba(150,150,150,.66);background-clip:content-box}html body[for=html-export]:not([data-presentation-mode]){position:relative;width:100%;height:100%;top:0;left:0;margin:0;padding:0;overflow:auto}html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{position:relative;top:0;min-height:100vh}@media screen and (min-width:914px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{padding:2em calc(50% - 457px + 2em)}}@media screen and (max-width:914px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{font-size:14px!important;padding:1em}}@media print{html body[for=html-export]:not([data-presentation-mode]) #sidebar-toc-btn{display:none}}html body[for=html-export]:not([data-presentation-mode]) #sidebar-toc-btn{position:fixed;bottom:8px;left:8px;font-size:28px;cursor:pointer;color:inherit;z-index:99;width:32px;text-align:center;opacity:.4}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] #sidebar-toc-btn{opacity:1}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc{position:fixed;top:0;left:0;width:300px;height:100%;padding:32px 0 48px 0;font-size:14px;box-shadow:0 0 4px rgba(150,150,150,.33);box-sizing:border-box;overflow:auto;background-color:inherit}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar{width:8px}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,.66);border:4px solid rgba(150,150,150,.66);background-clip:content-box}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc a{text-decoration:none}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc{padding:0 16px}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link{display:inline;padding:.25rem 0}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link div,html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link p{display:inline}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper.highlighted .md-toc-link{font-weight:800}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{left:300px;width:calc(100% - 300px);padding:2em calc(50% - 457px - 300px / 2);margin:0;box-sizing:border-box}@media screen and (max-width:1274px){html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{width:100%}}html body[for=html-export]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .markdown-preview{left:50%;transform:translateX(-50%)}html body[for=html-export]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .md-sidebar-toc{display:none}
/* Please visit the URL below for more information: */
/*   https://shd101wyy.github.io/markdown-preview-enhanced/#/customize-css */

      </style>
      <!-- The content below will be included at the end of the <head> element. --><script type="text/javascript">
  document.addEventListener("DOMContentLoaded", function () {
    // your code here
  });
</script></head><body for="html-export" data-presentation-mode="">
    
    
      <div class="crossnote markdown-preview  " data-presentation-mode="">
      
    <div style="display:none;">
<p><link rel="stylesheet" href="../css/font-awesome-4.7.0/css/font-awesome.css"><br>
<link rel="stylesheet" href="../css/theme/solarized.css"><br>
<link rel="stylesheet" href="../css/logo.css"><br>
<link rel="stylesheet" href="../css/font.css"><br>
<link rel="stylesheet" href="../css/color.css"><br>
<link rel="stylesheet" href="../css/margin.css"><br>
<link rel="stylesheet" href="../css/table.css"><br>
<link rel="stylesheet" href="../css/main.css"><br>
<script type="text/javascript" src="../plugin/zoom/zoom.js"></script><br>
<script type="text/javascript" src="../plugin/customcontrols/plugin.js"></script><br>
<link rel="stylesheet" href="../plugin/customcontrols/style.css"><br>
<script type="text/javascript" src="../plugin/chalkboard/plugin.js"></script><br>
<link rel="stylesheet" href="../plugin/chalkboard/style.css"><br>
<script type="text/javascript" src="../plugin/menu/menu.js"></script><br>
<script type="text/javascript" src="../js/anychart/anychart-core.min.js"></script><br>
<script type="text/javascript" src="../js/anychart/anychart-venn.min.js"></script><br>
<script type="text/javascript" src="../js/anychart/pastel.min.js"></script><br>
<script type="text/javascript" src="../js/anychart/venn-ml.js"></script><br>
<script type="text/javascript" src="https://cdn.bootcdn.net/ajax/libs/jquery/3.5.0/jquery.js"></script></p>
</div>
    <div class="reveal">
      <div class="slides">
        <section><section data-notes="" lineno="31" class="slide " data-source-line="31" data-h="0" data-v="0"><div class="bottom20"></div>
<h1 id="c语言程序设计基础">C语言程序设计基础 </h1>
<hr class="width50 center">
<h2 id="底层程序设计">底层程序设计 </h2>
<div class="bottom8"></div>
<h3 id="计算机系-nbspnbsp-杨已彪">计算机系 &nbsp;&nbsp; 杨已彪 </h3>
<h4><em><a href="mailto:yangyibiao@nju.edu.cn">yangyibiao@nju.edu.cn</a></em> {#<em>yangyibiaonjueducn</em> }</h4>
</section><section vertical="true" data-notes="" lineno="48" class="slide " data-source-line="48" data-h="0" data-v="1"><h5 id="提纲">提纲 </h5>
<hr>
<ul>
<li>
<p><a href="#/BitOp">位运算符</a></p>
</li>
<li>
<p><a href="#/BitFinStruct">结构中的位域</a></p>
</li>
<li>
<p><a href="#/OtherLowLTech">其他底层技术</a></p>
</li>
</ul>
</section><section vertical="true" data-notes="" lineno="62" class="slide " data-source-line="62" data-h="0" data-v="2"><h5 id="介绍">介绍 </h5>
<hr>
<p>前几章描述了 C 语言中高级的, 与机器无关的特性.</p>
<p>但是, 某些类型的程序需要在位级别执行操作:</p>
<ul>
<li>系统程序(包括编译器和操作系统)</li>
<li>加密程序</li>
<li>图形程序</li>
<li>需要高执行速度或高效利用空间的程序</li>
</ul>
</section><section vertical="true" data-notes="" lineno="78" class="slide " data-source-line="78" data-h="0" data-v="3"><h5 id="位运算符">位运算符 </h5>
<hr>
<p>C 提供了六个位运算符, 它们在位级别对整数数据进行操作.</p>
<p>其中两个运算符执行移位操作.</p>
<p>其他四个执行按位求反, 按位与, 按位异或和按位或运算.</p>
</section><section id="BitOp" vertical="true" data-notes="" lineno="92" class="slide " data-source-line="92" data-h="0" data-v="4"><h5 id="移位运算符">移位运算符 </h5>
<hr>
<p>移位运算符将整数中的位向左或向右移动:</p>
<ul>
<li>
<p><code>&lt;&lt;</code> 左移</p>
</li>
<li>
<p><code>&gt;&gt;</code> 右移</p>
</li>
</ul>
<p><code>&lt;&lt;</code>和<code>&gt;&gt;</code>的操作数可以是任何整数类型(包括char).</p>
<p>对两个操作数都会进行整数提升; 结果为提升后左操作数的类型.</p>
</section><section vertical="true" data-notes="" lineno="112" class="slide " data-source-line="112" data-h="0" data-v="5"><h5 id="移位运算符-1">移位运算符 </h5>
<hr>
<p><code>i &lt;&lt; j</code>的值是将i中的位左移j位后的结果.</p>
<ul>
<li>每次从i的最左端"溢出"一位, 在最右端补一个0位.</li>
</ul>
<p><code>i &gt;&gt; j</code>的值是将i中的位右移j位后的结果.</p>
<ul>
<li>
<p>如果i是无符号类型或非负数, 则需要在左端补0.</p>
</li>
<li>
<p>如果i为负数, 则结果是由实现定义的.</p>
</li>
</ul>
</section><section vertical="true" data-notes="" lineno="131" class="slide " data-source-line="131" data-h="0" data-v="6"><h5 id="移位运算符-2">移位运算符 </h5>
<hr>
<p>将移位运算符应用于数字 13 的效果的示例:</p>
<pre data-role="codeBlock" data-info="C{.line-numbers}" class="language-c C line-numbers"><code><span class="token keyword keyword-unsigned">unsigned</span> <span class="token keyword keyword-short">short</span> i<span class="token punctuation">,</span> j<span class="token punctuation">;</span>

i <span class="token operator">=</span> <span class="token number">13</span><span class="token punctuation">;</span>  <span class="token comment">/* i is now 13(binary 0000000000001101) */</span>

j <span class="token operator">=</span> i <span class="token operator">&lt;&lt;</span> <span class="token number">2</span><span class="token punctuation">;</span>  <span class="token comment">/* j is now 52(binary 0000000000110100) */</span>

j <span class="token operator">=</span> i <span class="token operator">&gt;&gt;</span> <span class="token number">2</span><span class="token punctuation">;</span>  <span class="token comment">/* j is now  3(binary 0000000000000011) */</span>
</code><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre><p>–</p>
</section><section vertical="true" data-notes="" lineno="152" class="slide " data-source-line="152" data-h="0" data-v="7"><h5 id="移位运算符-3">移位运算符 </h5>
<hr>
<p>要通过移位来修改变量, 需要使用复合赋值运算符<code>&lt;&lt;=</code>和<code>&gt;&gt;=</code>:</p>
<pre data-role="codeBlock" data-info="C{.line-numbers}" class="language-c C line-numbers"><code>i <span class="token operator">=</span> <span class="token number">13</span><span class="token punctuation">;</span>  <span class="token comment">/* i is now 13(binary 0000000000001101) */</span>

i <span class="token operator">&lt;&lt;=</span> <span class="token number">2</span><span class="token punctuation">;</span>  <span class="token comment">/* i is now 52(binary 0000000000110100) */</span>

i <span class="token operator">&gt;&gt;=</span> <span class="token number">2</span><span class="token punctuation">;</span>  <span class="token comment">/* i is now 13(binary 0000000000001101) */</span>
</code><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></pre><p>–</p>
</section><section vertical="true" data-notes="" lineno="171" class="slide " data-source-line="171" data-h="0" data-v="8"><h5 id="移位运算符-4">移位运算符 </h5>
<hr>
<p>移位运算符的优先级低于算术运算符, 这可能会引起意外:</p>
<p>i &lt;&lt; 2 + 1 等同于 i &lt;&lt;(2 + 1), 而不是(i &lt;&lt; 2) + 1</p>
</section><section vertical="true" data-notes="" lineno="183" class="slide " data-source-line="183" data-h="0" data-v="9"><h5 id="按位求反与异或或运算符">按位(求反/与/异或/或)运算符 </h5>
<hr>
<p>余下的4个位运算符:</p>
<ul>
<li>
<p><code>~</code> 按位求反</p>
</li>
<li>
<p><code>&amp;</code> 按位和</p>
</li>
<li>
<p><code>^</code> 按位异或</p>
</li>
<li>
<p><code>|</code> 按位或</p>
</li>
</ul>
<p><code>~</code>运算符是一元的; 对其操作数进行整数提升.</p>
<p>其他运算符是二元的; 对其操作数进行常用的算术转换.</p>
</section><section vertical="true" data-notes="" lineno="203" class="slide " data-source-line="203" data-h="0" data-v="10"><h5 id="按位求反-按位与-按位异或和按位或运算符">按位求反, 按位与, 按位异或和按位或运算符 </h5>
<hr>
<p><code>~</code>, <code>&amp;</code>, <code>^</code>和<code>|</code>运算符对其操作数中的所有位执行布尔运算.</p>
<p>当两个操作数的位都是 1 时, <code>^</code>运算符产生 0 而<code>|</code>产生 1 .</p>
</section><section vertical="true" data-notes="" lineno="217" class="slide " data-source-line="217" data-h="0" data-v="11"><h5 id="按位求反-按位与-按位异或和按位或运算符-1">按位求反, 按位与, 按位异或和按位或运算符 </h5>
<hr>
<p>运算符<code>~</code>, <code>&amp;</code>, <code>^</code>和<code>|</code>作用的示例:</p>
<pre data-role="codeBlock" data-info="C{.line-numbers}" class="language-c C line-numbers"><code><span class="token keyword keyword-unsigned">unsigned</span> <span class="token keyword keyword-short">short</span> i<span class="token punctuation">,</span> j<span class="token punctuation">,</span> k<span class="token punctuation">;</span>

i <span class="token operator">=</span> <span class="token number">21</span><span class="token punctuation">;</span>
  <span class="token comment">/* i is now    21(binary 0000000000010101) */</span>

j <span class="token operator">=</span> <span class="token number">56</span><span class="token punctuation">;</span>
  <span class="token comment">/* j is now    56(binary 0000000000111000) */</span>

k <span class="token operator">=</span> <span class="token operator">~</span>i<span class="token punctuation">;</span>
  <span class="token comment">/* k is now 65514(binary 1111111111101010) */</span>

k <span class="token operator">=</span> i <span class="token operator">&amp;</span> j<span class="token punctuation">;</span>
  <span class="token comment">/* k is now    16(binary 0000000000010000) */</span>

k <span class="token operator">=</span> i <span class="token operator">^</span> j<span class="token punctuation">;</span>
  <span class="token comment">/* k is now    45(binary 0000000000101101) */</span>

k <span class="token operator">=</span> i <span class="token operator">|</span> j<span class="token punctuation">;</span>
  <span class="token comment">/* k is now    61(binary 0000000000111101) */</span>
</code><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre><p>–</p>
</section><section vertical="true" data-notes="" lineno="250" class="slide " data-source-line="250" data-h="0" data-v="12"><h5 id="按位求反-按位与-按位异或和按位或运算符-2">按位求反, 按位与, 按位异或和按位或运算符 </h5>
<hr>
<p><code>~</code>运算符可以帮助使底层程序可移植性更好.</p>
<ul>
<li>
<p>位全为 1 的整数: <code>~0</code></p>
</li>
<li>
<p>一个整数, 除最后五位外其他位全为 1: <code>~0x1f</code></p>
</li>
</ul>
</section><section vertical="true" data-notes="" lineno="264" class="slide " data-source-line="264" data-h="0" data-v="13"><h5 id="按位求反-按位与-按位异或和按位或运算符-3">按位求反, 按位与, 按位异或和按位或运算符 </h5>
<hr>
<p><code>~</code>, <code>&amp;</code>, <code>^</code>和<code>|</code>有不同的优先级:</p>
<pre data-role="codeBlock" data-info="" class="language-text text"><code>最高  ~
     &amp;
     ^
最低  |
</code></pre><p>例子:</p>
<pre data-role="codeBlock" data-info="C" class="language-c C"><code>i <span class="token operator">&amp;</span> <span class="token operator">~</span>j <span class="token operator">|</span> k<span class="token punctuation">;</span>  <span class="token comment">/* 等价于 */</span> <span class="token punctuation">(</span>i <span class="token operator">&amp;</span><span class="token punctuation">(</span><span class="token operator">~</span>j<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">|</span> k<span class="token punctuation">;</span>
i <span class="token operator">^</span> j <span class="token operator">&amp;</span> <span class="token operator">~</span>k<span class="token punctuation">;</span>  <span class="token comment">/* 等价于 */</span> i <span class="token operator">^</span><span class="token punctuation">(</span>j <span class="token operator">&amp;</span><span class="token punctuation">(</span><span class="token operator">~</span>k<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><p>使用括号有助于避免混淆.</p>
</section><section vertical="true" data-notes="" lineno="290" class="slide " data-source-line="290" data-h="0" data-v="14"><h5 id="按位求反-按位与-按位异或和按位或运算符-4">按位求反, 按位与, 按位异或和按位或运算符 </h5>
<hr>
<p>复合赋值运算符<code>&amp;=</code>, <code>^=</code>和<code>|=</code>对应于按位运算符<code>&amp;</code>, <code>^</code>和<code>|</code>:</p>
<pre data-role="codeBlock" data-info="C{.line-numbers}" class="language-c C line-numbers"><code>i <span class="token operator">=</span> <span class="token number">21</span><span class="token punctuation">;</span>
  <span class="token comment">/* i is now 21(binary 0000000000010101) */</span>

j <span class="token operator">=</span> <span class="token number">56</span><span class="token punctuation">;</span>
  <span class="token comment">/* j is now 56(binary 0000000000111000) */</span>

i <span class="token operator">&amp;=</span> j<span class="token punctuation">;</span>
  <span class="token comment">/* i is now 16(binary 0000000000010000) */</span>

i <span class="token operator">^=</span> j<span class="token punctuation">;</span>
  <span class="token comment">/* i is now 40(binary 0000000000101000) */</span>

i <span class="token operator">|=</span> j<span class="token punctuation">;</span>
  <span class="token comment">/* i is now 56(binary 0000000000111000) */</span>
</code><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre><p>–</p>
</section><section vertical="true" data-notes="" lineno="319" class="slide " data-source-line="319" data-h="0" data-v="15"><h5 id="用位运算符访问位">用位运算符访问位 </h5>
<hr>
<p>位运算符可用于提取或修改存储在少数几个位中的数据.</p>
<p>常见的单位操作:</p>
<ul>
<li>
<p>位的设置</p>
</li>
<li>
<p>位的清除</p>
</li>
<li>
<p>位的测试</p>
</li>
</ul>
<p>假设:</p>
<ul>
<li>
<p>i 是 16 位 unsigned short 变量.</p>
</li>
<li>
<p>最左边(或最高有效)位编号为 15 , 最低有效位编号为 0 .</p>
</li>
</ul>
</section><section vertical="true" data-notes="" lineno="343" class="slide " data-source-line="343" data-h="0" data-v="16"><h5 id="用位运算符访问位-1">用位运算符访问位 </h5>
<hr>
<p><strong>位的设置.</strong> 设置 i 的第 4 位的最简单方法是将i的值与常量0x0010进行或运算:</p>
<pre data-role="codeBlock" data-info="C{.line-numbers}" class="language-c C line-numbers"><code>i <span class="token operator">=</span> <span class="token number">0x0000</span><span class="token punctuation">;</span>
  <span class="token comment">/* i is now 0000000000000000 */</span>

i <span class="token operator">|=</span> <span class="token number">0x0010</span><span class="token punctuation">;</span>
  <span class="token comment">/* i is now 0000000000010000 */</span>
</code><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></pre><p>如果需要设置的位的位置存储在变量 j 中, 则可以使用移位运算符来创建掩码:</p>
<pre data-role="codeBlock" data-info="C" class="language-c C"><code>i <span class="token operator">|=</span> <span class="token number">1</span> <span class="token operator">&lt;&lt;</span> j<span class="token punctuation">;</span>        <span class="token comment">/* sets bit j */</span>
</code></pre><p>示例: 如果 j 的值为 3, 则 1 &lt;&lt; j 是0x0008</p>
</section><section vertical="true" data-notes="" lineno="368" class="slide " data-source-line="368" data-h="0" data-v="17"><h5 id="用位运算符访问位-2">用位运算符访问位 </h5>
<hr>
<p><strong>位的清除.</strong> 清除i的第 4 位可以使用第4位为0, 其他位为1的掩码:</p>
<pre data-role="codeBlock" data-info="C{.line-numbers}" class="language-c C line-numbers"><code>i <span class="token operator">=</span> <span class="token number">0x00ff</span><span class="token punctuation">;</span>
	<span class="token comment">/* i is now 0000000011111111 */</span>

i <span class="token operator">&amp;=</span> <span class="token operator">~</span><span class="token number">0x0010</span><span class="token punctuation">;</span>
  <span class="token comment">/* i is now 0000000011101111 */</span>
</code><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></pre><p>清除位置存储在变量中的位的语句:</p>
<pre data-role="codeBlock" data-info="C" class="language-c C"><code>i <span class="token operator">&amp;=</span> <span class="token operator">~</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">&lt;&lt;</span> j<span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">/* clears bit j */</span>
</code></pre><p>–</p>
</section><section vertical="true" data-notes="" lineno="394" class="slide " data-source-line="394" data-h="0" data-v="18"><h5 id="用位运算符访问位-3">用位运算符访问位 </h5>
<hr>
<p><strong>位的测试.</strong> 测试i的第 4 位是否已设置的if语句:</p>
<pre data-role="codeBlock" data-info="C" class="language-c C"><code><span class="token keyword keyword-if">if</span><span class="token punctuation">(</span>i <span class="token operator">&amp;</span> <span class="token number">0x0010</span><span class="token punctuation">)</span> …   <span class="token comment">/* tests bit 4 */</span>
</code></pre><p>测试第j位的语句:</p>
<pre data-role="codeBlock" data-info="C" class="language-c C"><code><span class="token keyword keyword-if">if</span><span class="token punctuation">(</span>i <span class="token operator">&amp;</span> <span class="token number">1</span> <span class="token operator">&lt;&lt;</span> j<span class="token punctuation">)</span> …   <span class="token comment">/* tests bit j */</span> 
</code></pre><p>–</p>
</section><section vertical="true" data-notes="" lineno="415" class="slide " data-source-line="415" data-h="0" data-v="19"><h5 id="用位运算符访问位-4">用位运算符访问位 </h5>
<hr>
<p>如果给位命名, 使用会更容易.</p>
<p>假设一个数字的第0, 1和2位分别对应于蓝色, 绿色和红色.</p>
<p>代表三个位位置的名称:</p>
<pre data-role="codeBlock" data-info="C{.line-numbers}" class="language-c C line-numbers"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">BLUE</span>  <span class="token expression"><span class="token number">1</span></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">GREEN</span> <span class="token expression"><span class="token number">2</span></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">RED</span>   <span class="token expression"><span class="token number">4</span></span></span>
</code><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></pre><p>–</p>
</section><section vertical="true" data-notes="" lineno="436" class="slide " data-source-line="436" data-h="0" data-v="20"><h5 id="用位运算符访问位-5">用位运算符访问位 </h5>
<hr>
<p>设置, 清除和测试BLUE位的示例:</p>
<pre data-role="codeBlock" data-info="C{.line-numbers}" class="language-c C line-numbers"><code>i <span class="token operator">|=</span> BLUE<span class="token punctuation">;</span>        <span class="token comment">/* sets BLUE bit   */</span>
i <span class="token operator">&amp;=</span> <span class="token operator">~</span>BLUE<span class="token punctuation">;</span>       <span class="token comment">/* clears BLUE bit */</span>
<span class="token keyword keyword-if">if</span><span class="token punctuation">(</span>i <span class="token operator">&amp;</span> BLUE<span class="token punctuation">)</span> …   <span class="token comment">/* tests BLUE bit  */</span>
</code><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></pre><p>–</p>
</section><section vertical="true" data-notes="" lineno="454" class="slide " data-source-line="454" data-h="0" data-v="21"><h5 id="用位运算符访问位-6">用位运算符访问位 </h5>
<hr>
<p>同时设置, 清除或测试几个位也很容易:</p>
<pre data-role="codeBlock" data-info="C{.line-numbers}" class="language-c C line-numbers"><code>i <span class="token operator">|=</span> BLUE <span class="token operator">|</span> GREEN<span class="token punctuation">;</span>
  <span class="token comment">/* sets BLUE and GREEN bits   */</span>

i <span class="token operator">&amp;=</span> <span class="token operator">~</span><span class="token punctuation">(</span>BLUE <span class="token operator">|</span> GREEN<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">/* clears BLUE and GREEN bits */</span>

<span class="token keyword keyword-if">if</span><span class="token punctuation">(</span>i <span class="token operator">&amp;</span><span class="token punctuation">(</span>BLUE <span class="token operator">|</span> GREEN<span class="token punctuation">)</span><span class="token punctuation">)</span> …
  <span class="token comment">/* tests BLUE and GREEN bits  */</span>
</code><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre><p>if语句测试是否设置了BLUE位或GREEN位.</p>
</section><section vertical="true" data-notes="" lineno="477" class="slide " data-source-line="477" data-h="0" data-v="22"><h5 id="用位运算符访问位域">用位运算符访问位域 </h5>
<hr>
<p>处理一组连续的位(位域)比处理单个位稍微复杂一些.</p>
<p>常见的位域操作:</p>
<ul>
<li>
<p>修改位域</p>
</li>
<li>
<p>获取位域</p>
</li>
</ul>
</section><section vertical="true" data-notes="" lineno="493" class="slide " data-source-line="493" data-h="0" data-v="23"><h5 id="用位运算符访问位域-1">用位运算符访问位域 </h5>
<hr>
<p><strong>修改位域.</strong> 修改位域需要两个操作:</p>
<ul>
<li>
<p>按位与(清除位域)</p>
</li>
<li>
<p>按位或(将新的位存入位域)</p>
</li>
</ul>
<p>例子:</p>
<pre data-role="codeBlock" data-info="C" class="language-c C"><code>i <span class="token operator">=</span> i <span class="token operator">&amp;</span> <span class="token operator">~</span><span class="token number">0x0070</span> <span class="token operator">|</span> <span class="token number">0x0050</span><span class="token punctuation">;</span>
  <span class="token comment">/* stores 101 in bits 4-6 */</span>
</code></pre><p><code>&amp;</code>运算符清除i的第4-6位; 然后<code>|</code>运算符设置第4-6位.</p>
</section><section vertical="true" data-notes="" lineno="516" class="slide " data-source-line="516" data-h="0" data-v="24"><h5 id="用位运算符访问位域-2">用位运算符访问位域 </h5>
<hr>
<p>为了使该示例更通用, 假设j包含要存储到i的第4-6位的值.</p>
<p>需要在执行按位或之前将j移位至相应的位置:</p>
<pre data-role="codeBlock" data-info="C" class="language-c C"><code>i <span class="token operator">=</span><span class="token punctuation">(</span>i <span class="token operator">&amp;</span> <span class="token operator">~</span><span class="token number">0x0070</span><span class="token punctuation">)</span> <span class="token operator">|</span><span class="token punctuation">(</span>j <span class="token operator">&lt;&lt;</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">/* stores j in bits 4-6 */</span>
</code></pre><p><code>|</code>运算符的优先级低于<code>&amp;</code>和<code>&lt;&lt;</code>, 因此可以删除括号:</p>
<pre data-role="codeBlock" data-info="C" class="language-c C"><code>i <span class="token operator">=</span> i <span class="token operator">&amp;</span> <span class="token operator">~</span><span class="token number">0x0070</span> <span class="token operator">|</span> j <span class="token operator">&lt;&lt;</span> <span class="token number">4</span><span class="token punctuation">;</span>
</code></pre><p>–</p>
</section><section vertical="true" data-notes="" lineno="541" class="slide " data-source-line="541" data-h="0" data-v="25"><h5 id="用位运算符访问位域-3">用位运算符访问位域 </h5>
<hr>
<p><strong>获取位域.</strong> 获取数字右端的位域(最低有效位)很容易:</p>
<pre data-role="codeBlock" data-info="C" class="language-c C"><code>j <span class="token operator">=</span> i <span class="token operator">&amp;</span> <span class="token number">0x0007</span><span class="token punctuation">;</span>
  <span class="token comment">/* retrieves bits 0-2 */</span>
</code></pre><p>如果位域不在i的右端, 可以先将位域移到右端, 然后再使用<code>&amp;</code>运算符提取位域:</p>
<pre data-role="codeBlock" data-info="C" class="language-c C"><code>j <span class="token operator">=</span><span class="token punctuation">(</span>i <span class="token operator">&gt;&gt;</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span> <span class="token number">0x0007</span><span class="token punctuation">;</span>
  <span class="token comment">/* retrieves bits 4-6 */</span>
</code></pre><p>–</p>
</section><section vertical="true" data-notes="" lineno="564" class="slide " data-source-line="564" data-h="0" data-v="26"><h5 id="程序-异或加密">程序: 异或加密 </h5>
<hr>
<p>加密数据的最简单方法之一是使用密钥对每个字符进行异或(XOR).</p>
<p>假设密钥是一个&amp;字符.</p>
<p>将它与字符z进行异或运算会得到\字符:</p>
<pre data-role="codeBlock" data-info="" class="language-text text"><code>    00100110 (&amp;的ASCII码)
XOR 01111010 (z的ASCII码)
    01011100 (\的ASCII码)
</code></pre><p>–</p>
</section><section vertical="true" data-notes="" lineno="586" class="slide " data-source-line="586" data-h="0" data-v="27"><h5 id="程序-异或加密-1">程序: 异或加密 </h5>
<hr>
<p>通过应用相同的算法来解密消息:</p>
<pre data-role="codeBlock" data-info="" class="language-text text"><code>    00100110 (&amp;的ASCII码)
XOR 01011100 (\的ASCII码)
    01111010 (z的ASCII码)
</code></pre><p>–</p>
</section><section vertical="true" data-notes="" lineno="604" class="slide " data-source-line="604" data-h="0" data-v="28"><h5 id="程序-异或加密-2">程序: 异或加密 </h5>
<hr>
<p>xor.c程序通过将每个字符与&amp;字符进行异或来加密消息.</p>
<p>原始消息可以由用户输入或使用输入重定向从文件中读取.</p>
<p>加密的消息可以在屏幕上查看或使用输出重定向保存在文件中.</p>
</section><section vertical="true" data-notes="" lineno="618" class="slide " data-source-line="618" data-h="0" data-v="29"><h5 id="程序-异或加密-3">程序: 异或加密 </h5>
<hr>
<p>一个名为msg的示例文件:</p>
<pre data-role="codeBlock" data-info="" class="language-text text"><code>Trust not him with your secrets, who, when left
alone in your room, turns over your papers.
            --Johann Kaspar Lavater(1741-1801)
</code></pre><p>加密msg, 并将加密后的消息保存在newmsg中的命令:</p>
<p><code>xor &lt;msg &gt;newmsg</code></p>
<p>newmsg的内容:</p>
<pre data-role="codeBlock" data-info="" class="language-text text"><code>rTSUR HIR NOK QORN _IST UCETCRU, QNI, QNCH JC@R
GJIHC OH _IST TIIK, RSTHU IPCT _IST VGVCTU.  
            --lINGHH mGUVGT jGPGRCT(1741-1801)
</code></pre><p>–</p>
</section><section vertical="true" data-notes="" lineno="648" class="slide " data-source-line="648" data-h="0" data-v="30"><h5 id="程序-异或加密-4">程序: 异或加密 </h5>
<hr>
<p>恢复原始消息并将其显示在屏幕上的命令:</p>
<p><code>xor &lt;newmsg</code></p>
</section><section vertical="true" data-notes="" lineno="660" class="slide " data-source-line="660" data-h="0" data-v="31"><h5 id="程序-异或加密-5">程序: 异或加密 </h5>
<hr>
<p>xor.c程序不会更改某些字符, 包括数字.</p>
<p>将这些字符与&amp;进行异或会产生不可见的控制字符, 这在某些操作系统中会出现问题.</p>
<p>程序检查原始字符和新(加密)字符是否都是可打印字符.</p>
<p>如果不是, 程序将写原始字符而不是新字符.</p>
</section><section vertical="true" data-notes="" lineno="676" class="slide " data-source-line="676" data-h="0" data-v="32"><h5 id="xorc">xor.c </h5>
<hr>
<pre data-role="codeBlock" data-info="C{.line-numbers}" class="language-c C line-numbers"><code><span class="token comment">/* Performs XOR encryption */</span>
 
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;ctype.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h&gt;</span></span>
 
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">KEY</span> <span class="token char">'&amp;'</span></span>
 
<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword keyword-void">void</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
  <span class="token keyword keyword-int">int</span> orig_char<span class="token punctuation">,</span> new_char<span class="token punctuation">;</span>
 
  <span class="token keyword keyword-while">while</span><span class="token punctuation">(</span><span class="token punctuation">(</span>orig_char <span class="token operator">=</span> <span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token constant">EOF</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    new_char <span class="token operator">=</span> orig_char <span class="token operator">^</span> KEY<span class="token punctuation">;</span>
    <span class="token keyword keyword-if">if</span><span class="token punctuation">(</span><span class="token function">isprint</span><span class="token punctuation">(</span>orig_char<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token function">isprint</span><span class="token punctuation">(</span>new_char<span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token function">putchar</span><span class="token punctuation">(</span>new_char<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-else">else</span>
      <span class="token function">putchar</span><span class="token punctuation">(</span>orig_char<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
 
  <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre><p>–</p>
</section><section vertical="true" data-notes="" lineno="710" class="slide " data-source-line="710" data-h="0" data-v="33"><h5 id="结构中的位域">结构中的位域 </h5>
<hr>
<p>前面讨论的方法可以操作位域, 但不易使用, 并且可能会造成混淆.</p>
<p>幸运的是, C 提供了另一种选择: 声明其成员表示位域的结构.</p>
</section><section id="BitFinStruct" vertical="true" data-notes="" lineno="722" class="slide " data-source-line="722" data-h="0" data-v="34"><h5 id="结构中的位域-1">结构中的位域 </h5>
<hr>
<p>示例: DOS 如何存储文件的创建和最后修改日期.</p>
<p>由于日期, 月和年都是很小的数, 将它们按整数存储会很浪费空间.</p>
<p>DOS 只为日期分配了16位, 其中5位用于日, 4位用于月, 7位用于年:</p>
<div class="top-2">
  <img src="../img/19-1.png">
</div>
</section><section vertical="true" data-notes="" lineno="740" class="slide " data-source-line="740" data-h="0" data-v="35"><h5 id="结构中的位域-2">结构中的位域 </h5>
<hr>
<p>利用位域, 可以定义相同形式的C结构:</p>
<pre data-role="codeBlock" data-info="C" class="language-c C"><code><span class="token keyword keyword-struct">struct</span> <span class="token class-name">file_date</span> <span class="token punctuation">{</span>
  <span class="token keyword keyword-unsigned">unsigned</span> <span class="token keyword keyword-int">int</span> day<span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">;</span>
  <span class="token keyword keyword-unsigned">unsigned</span> <span class="token keyword keyword-int">int</span> month<span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">;</span>
  <span class="token keyword keyword-unsigned">unsigned</span> <span class="token keyword keyword-int">int</span> year<span class="token operator">:</span> <span class="token number">7</span><span class="token punctuation">;</span> 
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><p>精简版:</p>
<pre data-role="codeBlock" data-info="C" class="language-c C"><code><span class="token keyword keyword-struct">struct</span> <span class="token class-name">file_date</span> <span class="token punctuation">{</span>
  <span class="token keyword keyword-unsigned">unsigned</span> <span class="token keyword keyword-int">int</span> day<span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span> month<span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span> year<span class="token operator">:</span> <span class="token number">7</span><span class="token punctuation">;</span> 
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><p>–</p>
</section><section vertical="true" data-notes="" lineno="768" class="slide " data-source-line="768" data-h="0" data-v="36"><h5 id="结构中的位域-3">结构中的位域 </h5>
<hr>
<p>位域的类型必须是int, unsigned int或signed int.</p>
<p>使用int会引起二义性; 一些编译器将位域的最高位作为符号位, 而其他编译器则不然.</p>
<p>在 C99 中, 位域也可能有_Bool类型.</p>
<p>C99 编译器可能允许额外的位域类型.</p>
</section><section vertical="true" data-notes="" lineno="784" class="slide " data-source-line="784" data-h="0" data-v="37"><h5 id="结构中的位域-4">结构中的位域 </h5>
<hr>
<p>位域的使用方式与结构的其他成员相同:</p>
<pre data-role="codeBlock" data-info="C{.line-numbers}" class="language-c C line-numbers"><code><span class="token keyword keyword-struct">struct</span> <span class="token class-name">file_date</span> fd<span class="token punctuation">;</span>

fd<span class="token punctuation">.</span>day <span class="token operator">=</span> <span class="token number">28</span><span class="token punctuation">;</span>
fd<span class="token punctuation">.</span>month <span class="token operator">=</span> <span class="token number">12</span><span class="token punctuation">;</span>
fd<span class="token punctuation">.</span>year <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">;</span>     <span class="token comment">/* represents 1988 */</span>
</code><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></pre><p>fd变量的形式:</p>
<div class="top-2">
  <img src="../img/19-2.png">
</div>
</section><section vertical="true" data-notes="" lineno="808" class="slide " data-source-line="808" data-h="0" data-v="38"><h5 id="结构中的位域-5">结构中的位域 </h5>
<hr>
<p>地址运算符(&amp;)不能应用于位域.</p>
<p>由于这条规则, 像scanf这类的函数不能直接将数据存储在位域中:</p>
<pre data-role="codeBlock" data-info="C" class="language-c C"><code><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>fd<span class="token punctuation">.</span>day<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">/*** 错误的 ***/</span>
</code></pre><p>我们仍然可以使用scanf将输入读入普通变量, 然后将其赋值给fd.day.</p>
</section><section vertical="true" data-notes="" lineno="826" class="slide " data-source-line="826" data-h="0" data-v="39"><h5 id="位域的存储方式">位域的存储方式 </h5>
<hr>
<p>C 标准允许编译器在选择如何存储位域方面有相当大的自由度.</p>
<p>处理位域的规则取决于"存储单元"的概念.</p>
<p>存储单元的大小是由实现定义的.</p>
<ul>
<li>通常为 8 位, 16 位和 32 位.</li>
</ul>
</section><section vertical="true" data-notes="" lineno="842" class="slide " data-source-line="842" data-h="0" data-v="40"><h5 id="位域的存储方式-1">位域的存储方式 </h5>
<hr>
<p>编译器将位域逐个放入存储单元, 位域之间没有间隙, 直到没有足够的空间容纳下一个位域.</p>
<p>此时, 一些编译器会跳到下一个存储单元的开头, 而另一些编译器会将位域拆开跨存储单元存放.</p>
<p>位域存放的顺序(从左到右或从右到左)也是由实现定义的.</p>
</section><section vertical="true" data-notes="" lineno="856" class="slide " data-source-line="856" data-h="0" data-v="41"><h5 id="位域的存储方式-2">位域的存储方式 </h5>
<hr>
<p>file_date示例中的假设:</p>
<ul>
<li>
<p>存储单元的长度为 16 位.</p>
</li>
<li>
<p>位域从右到左存储(第一个位域占据低序号的位).</p>
</li>
</ul>
<p>如果编译器将month字段拆开跨两个存储单元存放, 那么 8 位存储单元也是可以接受的.</p>
</section><section vertical="true" data-notes="" lineno="872" class="slide " data-source-line="872" data-h="0" data-v="42"><h5 id="位域的存储方式-3">位域的存储方式 </h5>
<hr>
<p>位域的名称可以省略.</p>
<p>未命名的位域可用作字段间的"填充", 以确保其他位域存储在适当的位置.</p>
<p>考虑与DOS文件关联的时间，存储方式如下:</p>
<pre data-role="codeBlock" data-info="C{.line-numbers}" class="language-c C line-numbers"><code><span class="token keyword keyword-struct">struct</span> <span class="token class-name">file_time</span> <span class="token punctuation">{</span>
  <span class="token keyword keyword-unsigned">unsigned</span> <span class="token keyword keyword-int">int</span> seconds<span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">;</span>
  <span class="token keyword keyword-unsigned">unsigned</span> <span class="token keyword keyword-int">int</span> minutes<span class="token operator">:</span> <span class="token number">6</span><span class="token punctuation">;</span>
  <span class="token keyword keyword-unsigned">unsigned</span> <span class="token keyword keyword-int">int</span> hours<span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">;</span> 
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></pre><p>–</p>
</section><section vertical="true" data-notes="" lineno="896" class="slide " data-source-line="896" data-h="0" data-v="43"><h5 id="位域的存储方式-4">位域的存储方式 </h5>
<hr>
<p>省略了seconds字段名称的相同结构:</p>
<pre data-role="codeBlock" data-info="C{.line-numbers}" class="language-c C line-numbers"><code><span class="token keyword keyword-struct">struct</span> <span class="token class-name">file_time</span> <span class="token punctuation">{</span>
  <span class="token keyword keyword-unsigned">unsigned</span> <span class="token keyword keyword-int">int</span> <span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">;</span>      <span class="token comment">/* not used */</span>
  <span class="token keyword keyword-unsigned">unsigned</span> <span class="token keyword keyword-int">int</span> minutes<span class="token operator">:</span> <span class="token number">6</span><span class="token punctuation">;</span>
  <span class="token keyword keyword-unsigned">unsigned</span> <span class="token keyword keyword-int">int</span> hours<span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></pre><p>剩余的位字段将被对齐, 就好像second字段仍然存在一样.</p>
</section><section vertical="true" data-notes="" lineno="916" class="slide " data-source-line="916" data-h="0" data-v="44"><h5 id="位域的存储方式-5">位域的存储方式 </h5>
<hr>
<p>未命名位域的长度可以为 0:</p>
<pre data-role="codeBlock" data-info="C{.line-numbers}" class="language-c C line-numbers"><code><span class="token keyword keyword-struct">struct</span> <span class="token class-name">s</span> <span class="token punctuation">{</span>
  <span class="token keyword keyword-unsigned">unsigned</span> <span class="token keyword keyword-int">int</span> a<span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">;</span>
  <span class="token keyword keyword-unsigned">unsigned</span> <span class="token keyword keyword-int">int</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token comment">/* 0-length bit-field */</span>
  <span class="token keyword keyword-unsigned">unsigned</span> <span class="token keyword keyword-int">int</span> b<span class="token operator">:</span> <span class="token number">8</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></pre><p>长度为 0 的位域告诉编译器将下一个位域在一个存储单元的起始位置对齐.</p>
<ul>
<li>
<p>如果存储单元是 8 位长, 编译器将为a分配 4 位, 跳过 4 位到下一个存储单元, 然后为b分配 8 位.</p>
</li>
<li>
<p>如果存储单元是 16 位长, 编译器将为a分配 4 位, 跳过 12 位, 然后为b分配 8 位.</p>
</li>
</ul>
</section><section vertical="true" data-notes="" lineno="941" class="slide " data-source-line="941" data-h="0" data-v="45"><h5 id="其他底层技术">其他底层技术 </h5>
<hr>
<p>前几章中介绍的一些特性经常在底层编程中使用.</p>
<p>例子:</p>
<ul>
<li>
<p>定义表示存储单元的类型</p>
</li>
<li>
<p>使用联合回避通常的类型检查</p>
</li>
<li>
<p>将指针作为地址使用</p>
</li>
</ul>
<p>第18章提到了volatile类型限定符, 但由于它的底层性质而没有讨论.</p>
</section><section id="OtherLowLTech" vertical="true" data-notes="" lineno="962" class="slide " data-source-line="962" data-h="0" data-v="46"><h5 id="定义机器相关类型">定义机器相关类型 </h5>
<hr>
<p>char类型占用一个字节, 因此字符可以被视为字节.</p>
<p>定义一个BYTE类型是个好主意:</p>
<pre data-role="codeBlock" data-info="C" class="language-c C"><code><span class="token keyword keyword-typedef">typedef</span> <span class="token keyword keyword-unsigned">unsigned</span> <span class="token keyword keyword-char">char</span> BYTE<span class="token punctuation">;</span>
</code></pre><p>根据机器的不同, 可能需要其他类型.</p>
<p>x86平台的一个有用类型:</p>
<pre data-role="codeBlock" data-info="C" class="language-c C"><code><span class="token keyword keyword-typedef">typedef</span> <span class="token keyword keyword-unsigned">unsigned</span> <span class="token keyword keyword-short">short</span> WORD<span class="token punctuation">;</span>
</code></pre><p>–</p>
</section><section vertical="true" data-notes="" lineno="988" class="slide " data-source-line="988" data-h="0" data-v="47"><h5 id="使用联合提供数据的多个视角">使用联合提供数据的多个视角 </h5>
<hr>
<p>第 16 章介绍了有关联合的便捷的使用方式使用.</p>
<p>但是在 C 中联合经常被用于完全不同的目的: 从两种或更多角度看待内存块.</p>
<p>考虑前面描述的file_date结构.</p>
<p>一个file_date结构正好放入两个字节, 因此任何两个字节的数据都可以被认为是一个file_date结构.</p>
</section><section vertical="true" data-notes="" lineno="1004" class="slide " data-source-line="1004" data-h="0" data-v="48"><h5 id="使用联合提供数据的多个视角-1">使用联合提供数据的多个视角 </h5>
<hr>
<p>特别是可以将一个unsigned short值看作是一个file_date结构.</p>
<p>可用于将短整数与文件日期相互转换的联合:</p>
<pre data-role="codeBlock" data-info="C" class="language-c C"><code><span class="token keyword keyword-union">union</span> int_date <span class="token punctuation">{</span>
  <span class="token keyword keyword-unsigned">unsigned</span> <span class="token keyword keyword-short">short</span> i<span class="token punctuation">;</span>
  <span class="token keyword keyword-struct">struct</span> <span class="token class-name">file_date</span> fd<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><p>–</p>
</section><section vertical="true" data-notes="" lineno="1025" class="slide " data-source-line="1025" data-h="0" data-v="49"><h5 id="使用联合提供数据的多个视角-2">使用联合提供数据的多个视角 </h5>
<hr>
<p>将unsigned short参数以文件日期的形式显示出来的函数:</p>
<pre data-role="codeBlock" data-info="C{.line-numbers}" class="language-c C line-numbers"><code><span class="token keyword keyword-void">void</span> <span class="token function">print_date</span><span class="token punctuation">(</span><span class="token keyword keyword-unsigned">unsigned</span> <span class="token keyword keyword-short">short</span> n<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
  <span class="token keyword keyword-union">union</span> int_date u<span class="token punctuation">;</span>

  u<span class="token punctuation">.</span>i <span class="token operator">=</span> n<span class="token punctuation">;</span>
  <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d/%d/%d\n"</span><span class="token punctuation">,</span> u<span class="token punctuation">.</span>fd<span class="token punctuation">.</span>month<span class="token punctuation">,</span>
         u<span class="token punctuation">.</span>fd<span class="token punctuation">.</span>day<span class="token punctuation">,</span> u<span class="token punctuation">.</span>fd<span class="token punctuation">.</span>year <span class="token operator">+</span> <span class="token number">1980</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre><p>–</p>
</section><section vertical="true" data-notes="" lineno="1048" class="slide " data-source-line="1048" data-h="0" data-v="50"><h5 id="使用联合提供数据的多个视角-3">使用联合提供数据的多个视角 </h5>
<hr>
<p>用联合提供数据的多个视角在使用寄存器时特别有用, 因为寄存器通常被分成较小的单元.</p>
<p>x86处理器具有名为AX, BX, CX和DX的16位寄存器.</p>
<p>每个寄存器可以被视为两个8位寄存器.</p>
<ul>
<li>AX可以被划分为AH和AL两个寄存器.</li>
</ul>
</section><section vertical="true" data-notes="" lineno="1064" class="slide " data-source-line="1064" data-h="0" data-v="51"><h5 id="使用联合提供数据的多个视角-4">使用联合提供数据的多个视角 </h5>
<hr>
<p>为基于x86的计算机编写底层应用程序时, 可能需要表示AX, BX, CX和DX的变量.</p>
<p>需要对16位和8位寄存器进行访问, 同时要考虑它们之间的关系.</p>
<ul>
<li>对 AX 的更改会影响 AH 和 AL; 更改 AH 或 AL 会修改 AX.</li>
</ul>
<p>解决方案是设置两个结构:</p>
<ul>
<li>
<p>一个包含对应于16位寄存器的成员.</p>
</li>
<li>
<p>另一个包含对应于8位寄存器的成员.</p>
</li>
</ul>
</section><section vertical="true" data-notes="" lineno="1084" class="slide " data-source-line="1084" data-h="0" data-v="52"><h5 id="使用联合提供数据的多个视角-5">使用联合提供数据的多个视角 </h5>
<hr>
<p>包含两个结构的联合:</p>
<pre data-role="codeBlock" data-info="C{.line-numbers}" class="language-c C line-numbers"><code><span class="token keyword keyword-union">union</span> <span class="token punctuation">{</span>
  <span class="token keyword keyword-struct">struct</span> <span class="token punctuation">{</span>
    WORD ax<span class="token punctuation">,</span> bx<span class="token punctuation">,</span> cx<span class="token punctuation">,</span> dx<span class="token punctuation">;</span>
  <span class="token punctuation">}</span> word<span class="token punctuation">;</span>
  <span class="token keyword keyword-struct">struct</span> <span class="token punctuation">{</span>
    BYTE al<span class="token punctuation">,</span> ah<span class="token punctuation">,</span> bl<span class="token punctuation">,</span> bh<span class="token punctuation">,</span> cl<span class="token punctuation">,</span> ch<span class="token punctuation">,</span> dl<span class="token punctuation">,</span> dh<span class="token punctuation">;</span>
  <span class="token punctuation">}</span> byte<span class="token punctuation">;</span>
<span class="token punctuation">}</span> regs<span class="token punctuation">;</span>
</code><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre><p>–</p>
</section><section vertical="true" data-notes="" lineno="1107" class="slide " data-source-line="1107" data-h="0" data-v="53"><h5 id="使用联合提供数据的多个视角-6">使用联合提供数据的多个视角 </h5>
<hr>
<p>word结构的成员将与byte结构的成员重叠.</p>
<ul>
<li>ax将占用与al和ah相同的内存空间.</li>
</ul>
<p>regs联合的示例:</p>
<pre data-role="codeBlock" data-info="C{.line-numbers}" class="language-c C line-numbers"><code>regs<span class="token punctuation">.</span>byte<span class="token punctuation">.</span>ah <span class="token operator">=</span> <span class="token number">0x12</span><span class="token punctuation">;</span>
regs<span class="token punctuation">.</span>byte<span class="token punctuation">.</span>al <span class="token operator">=</span> <span class="token number">0x34</span><span class="token punctuation">;</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"AX: %hx\n"</span><span class="token punctuation">,</span> regs<span class="token punctuation">.</span>word<span class="token punctuation">.</span>ax<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></pre><p>输出:</p>
<p><code>AX: 1234</code></p>
</section><section vertical="true" data-notes="" lineno="1131" class="slide " data-source-line="1131" data-h="0" data-v="54"><h5 id="使用联合提供数据的多个视角-7">使用联合提供数据的多个视角 </h5>
<hr>
<p>注意, byte结构中al在ah之前.</p>
<p>当数据项多于一个字节时, 有两种逻辑方式将其存储在内存中:</p>
<ul>
<li>
<p><strong>大端</strong>: 字节以"自然"顺序存储(先存储最左边的字节).</p>
</li>
<li>
<p><strong>小端</strong>: 字节以相反的顺序存储(最左边的字节最后存储).</p>
</li>
</ul>
<p>x86处理器按小端方式存储.</p>
</section><section vertical="true" data-notes="" lineno="1149" class="slide " data-source-line="1149" data-h="0" data-v="55"><h5 id="使用联合提供数据的多个视角-8">使用联合提供数据的多个视角 </h5>
<hr>
<p>我们通常不需要担心字节存储顺序.</p>
<p>但是, 在底层对内存进行操作的程序必须注意字节的存储顺序.</p>
<p>在处理包含非字符数据的文件时, 它也很重要.</p>
</section><section vertical="true" data-notes="" lineno="1164" class="slide " data-source-line="1164" data-h="0" data-v="56"><h5 id="使用指针作为地址">使用指针作为地址 </h5>
<hr>
<p>地址通常具有与整数(或长整数)相同的位数.</p>
<p>通过将整数强制转换为指针来创建表示特定地址的指针:</p>
<pre data-role="codeBlock" data-info="C{.line-numbers}" class="language-c C line-numbers"><code>BYTE <span class="token operator">*</span>p<span class="token punctuation">;</span>

p <span class="token operator">=</span><span class="token punctuation">(</span>BYTE <span class="token operator">*</span><span class="token punctuation">)</span> <span class="token number">0x1000</span><span class="token punctuation">;</span>
  <span class="token comment">/* p contains address 0x1000 */</span>
</code><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></pre><p>–</p>
</section><section vertical="true" data-notes="" lineno="1185" class="slide " data-source-line="1185" data-h="0" data-v="57"><h5 id="程序-查看内存单元">程序: 查看内存单元 </h5>
<hr>
<p>viewmemory.c程序允许用户查看计算机内存段.</p>
<p>该程序首先显示它自己的主函数的地址以及主函数的一个变量的地址.</p>
<p>程序接下来提示用户输入地址(以16进制整数格式)和要查看的字节数.</p>
<p>然后程序从指定的地址开始显示指定字节数的内存块.</p>
</section><section vertical="true" data-notes="" lineno="1202" class="slide " data-source-line="1202" data-h="0" data-v="58"><h5 id="程序-查看内存单元-1">程序: 查看内存单元 </h5>
<hr>
<p>字节以 10 个为一组显示(最后一组除外).</p>
<p>字节显示为十六进制数字和字符.</p>
<p>只显示打印字符; 其他字符显示为点号.</p>
<p>该程序假定int值和地址使用 32 位存储.</p>
<p>地址以十六进制显示.</p>
</section><section vertical="true" data-notes="" lineno="1220" class="slide " data-source-line="1220" data-h="0" data-v="59"><h5 id="viewmemoryc">viewmemory.c </h5>
<hr>
<pre data-role="codeBlock" data-info="C{.line-numbers}" class="language-c C line-numbers"><code><span class="token comment">/* Allows the user to view regions of computer memory */</span>
 
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;ctype.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h&gt;</span></span>
 
<span class="token keyword keyword-typedef">typedef</span> <span class="token keyword keyword-unsigned">unsigned</span> <span class="token keyword keyword-char">char</span> BYTE<span class="token punctuation">;</span>
 
<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword keyword-void">void</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
  <span class="token keyword keyword-unsigned">unsigned</span> <span class="token keyword keyword-int">int</span> addr<span class="token punctuation">;</span>
  <span class="token keyword keyword-int">int</span> i<span class="token punctuation">,</span> n<span class="token punctuation">;</span>
  BYTE <span class="token operator">*</span>ptr<span class="token punctuation">;</span>
 
  <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Address of main function: %x\n"</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token keyword keyword-unsigned">unsigned</span> <span class="token keyword keyword-int">int</span><span class="token punctuation">)</span> main<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Address of addr variable: %x\n"</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token keyword keyword-unsigned">unsigned</span> <span class="token keyword keyword-int">int</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span>addr<span class="token punctuation">)</span><span class="token punctuation">;</span>
  
  <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\nEnter a(hex) address: "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%x"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>addr<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Enter number of bytes to view: "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>
 
  <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">" Address              Bytes              Characters\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">" -------  -----------------------------  ----------\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  ptr <span class="token operator">=</span><span class="token punctuation">(</span>BYTE <span class="token operator">*</span><span class="token punctuation">)</span> addr<span class="token punctuation">;</span>
  <span class="token keyword keyword-for">for</span><span class="token punctuation">(</span><span class="token punctuation">;</span> n <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">;</span> n <span class="token operator">-=</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%8X  "</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token keyword keyword-unsigned">unsigned</span> <span class="token keyword keyword-int">int</span><span class="token punctuation">)</span> ptr<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-for">for</span><span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span> <span class="token operator">&amp;&amp;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
      <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%.2X "</span><span class="token punctuation">,</span> <span class="token operator">*</span><span class="token punctuation">(</span>ptr <span class="token operator">+</span> i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-for">for</span><span class="token punctuation">(</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
      <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"   "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">" "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-for">for</span><span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>  i <span class="token operator">&lt;</span> <span class="token number">10</span> <span class="token operator">&amp;&amp;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      BYTE ch <span class="token operator">=</span> <span class="token operator">*</span><span class="token punctuation">(</span>ptr <span class="token operator">+</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword keyword-if">if</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">isprint</span><span class="token punctuation">(</span>ch<span class="token punctuation">)</span><span class="token punctuation">)</span>
        ch <span class="token operator">=</span> <span class="token char">'.'</span><span class="token punctuation">;</span>
      <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%c"</span><span class="token punctuation">,</span> ch<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ptr <span class="token operator">+=</span> <span class="token number">10</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
 
  <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre><p>–</p>
</section><section vertical="true" data-notes="" lineno="1278" class="slide " data-source-line="1278" data-h="0" data-v="60"><h5 id="程序-查看内存单元-2">程序: 查看内存单元 </h5>
<hr>
<p>在运行 Linux 的 x86 系统上使用 GCC 编译程序的输出示例:</p>
<pre data-role="codeBlock" data-info="{.line-numbers}" class="language-line-numbers line-numbers"><code>Address of main function: 804847c
Address of addr variable: bff41154

Enter a(hex) address: 8048000
Enter number of bytes to view: 40

 Address              Bytes              Characters
 -------  -----------------------------  ----------
 8048000  7F 45 4C 46 01 01 01 00 00 00  .ELF......
 804800A  00 00 00 00 00 00 02 00 03 00  ..........
 8048014  01 00 00 00 C0 83 04 08 34 00  ........4.
 804801E  00 00 C0 0A 00 00 00 00 00 00  ..........
</code><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre><p>7F字节以及后跟的表示字母E, L和F的字节标识了可执行文件存储的格式(ELF).</p>
</section><section vertical="true" data-notes="" lineno="1305" class="slide " data-source-line="1305" data-h="0" data-v="61"><h5 id="程序-查看内存单元-3">程序: 查看内存单元 </h5>
<hr>
<p>显示从addr变量的地址开始的字节的示例:</p>
<pre data-role="codeBlock" data-info="{.line-numbers}" class="language-line-numbers line-numbers"><code>Address of main function: 804847c
Address of addr variable: bfec5484

Enter a(hex) address: bfec5484
Enter number of bytes to view: 64

 Address              Bytes              Characters
 -------  -----------------------------  ----------
BFEC5484  84 54 EC BF B0 54 EC BF F4 6F  .T...T...o
BFEC548E  68 00 34 55 EC BF C0 54 EC BF  h.4U...T..
BFEC5498  08 55 EC BF E3 3D 57 00 00 00  .U...=W...
BFEC54A2  00 00 A0 BC 55 00 08 55 EC BF  ....U..U..
BFEC54AC  E3 3D 57 00 01 00 00 00 34 55  .=W.....4U
BFEC54B6  EC BF 3C 55 EC BF 56 11 55 00  ..&lt;U..V.U.
BFEC54C0  F4 6F 68 00                    .oh.
</code><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre><p>对前四个字节进行反转得到BFEC5484, 即用户输入的地址.</p>
</section><section vertical="true" data-notes="" lineno="1335" class="slide " data-source-line="1335" data-h="0" data-v="62"><h5 id="volatile类型限定符">volatile类型限定符 </h5>
<hr>
<p>在某些计算机上, 某些内存空间是"易变的".</p>
<p>存储在这样一个位置的值可能会随着程序的运行而改变, 即使程序本身没有在那里存储新值.</p>
<p>例如, 某些内存空间可能被用于保存直接来自输入设备的数据.</p>
</section><section vertical="true" data-notes="" lineno="1350" class="slide " data-source-line="1350" data-h="0" data-v="63"><h5 id="volatile类型限定符-1">volatile类型限定符 </h5>
<hr>
<p>volatile类型限定符允许我们通知编译器, 程序中的某些数据是"易变"的.</p>
<p>volatile通常使用在用于指向易变内存空间的指针的声明中:</p>
<pre data-role="codeBlock" data-info="C" class="language-c C"><code><span class="token keyword keyword-volatile">volatile</span> BYTE <span class="token operator">*</span>p<span class="token punctuation">;</span>
  <span class="token comment">/* p will point to a volatile byte */</span>
</code></pre><p>–</p>
</section><section vertical="true" data-notes="" lineno="1370" class="slide " data-source-line="1370" data-h="0" data-v="64"><h5 id="volatile类型限定符-2">volatile类型限定符 </h5>
<hr>
<p>假设p指向的内存空间用于存放用户通过键盘输入的最近一个字符.</p>
<p>获取键盘输入的字符并将它们存储在缓冲区数组中的循环:</p>
<pre data-role="codeBlock" data-info="C{.line-numbers}" class="language-c C line-numbers"><code><span class="token keyword keyword-while">while</span><span class="token punctuation">(</span>缓冲区未满<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  等待输入<span class="token punctuation">;</span>
  buffer<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token operator">*</span>p<span class="token punctuation">;</span>
  <span class="token keyword keyword-if">if</span><span class="token punctuation">(</span>buffer<span class="token punctuation">[</span>i<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token char">'\n'</span><span class="token punctuation">)</span> 
    <span class="token keyword keyword-break">break</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre><p>–</p>
</section><section vertical="true" data-notes="" lineno="1394" class="slide " data-source-line="1394" data-h="0" data-v="65"><h5 id="volatile类型限定符-3">volatile类型限定符 </h5>
<hr>
<p>比较好的编译器可能会注意到这个循环既不改变p也不改变*p .</p>
<p>因此编译器可能会优化程序, 使*p只被取一次:</p>
<pre data-role="codeBlock" data-info="C{.line-numbers}" class="language-c C line-numbers"><code>在寄存器中存储<span class="token operator">*</span>p<span class="token punctuation">;</span>
<span class="token keyword keyword-while">while</span><span class="token punctuation">(</span>缓冲区未满<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  等待输入<span class="token punctuation">;</span>
  buffer<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> 存储在寄存器中的值<span class="token punctuation">;</span>
  <span class="token keyword keyword-if">if</span><span class="token punctuation">(</span>buffer<span class="token punctuation">[</span>i<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token char">'\n'</span><span class="token punctuation">)</span> 
    <span class="token keyword keyword-break">break</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre><p>–</p>
</section><section vertical="true" data-notes="" lineno="1419" class="slide " data-source-line="1419" data-h="0" data-v="66"><h5 id="volatile类型限定符-4">volatile类型限定符 </h5>
<hr>
<p>优化后的程序会不断复制同一个字符来填满缓冲区.</p>
<p>将p声明成指向易变的数据的指针可以避免这个问题, 因为volatile限定符会告诉编译器*p每一次都必须从内存中重新取.</p>
</section></section>
      </div>
    </div>
    
      </div>
      
      
    
    
      <script>
        Reveal.initialize({"margin":0,"center":false,"transition":"convex","enableSpeakerNotes":true,"slideNumber":"c/t","navigationMode":"linear","dependencies":[{"src":"revealjs_deps/notes.js","async":true}]})
      </script>
      
    
    
    
    
  
    </body></html>